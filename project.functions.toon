project: br
generated: "2026-01-13T15:32:04.488976"
modules[90]{path,lang,items}:
  tests/conftest.py,python,20
  tests/__init__.py,python,0
  tests/test_documentation_validation.py,python,20
  tests/test_invoice_detection.py,python,9
  cli/validate_documentation.py,python,6
  cli/generate_sample_invoices.py,python,4
  cli/br_cli.py,python,13
  tests/unit/test_extractors.py,python,25
  tests/unit/__init__.py,python,0
  tests/unit/test_validators.py,python,15
  tests/unit/test_integrations.py,python,15
  tests/e2e/test_web_gui_smoke.py,python,3
  tests/e2e/test_scenarios.py,python,6
  tests/e2e/test_integrations_e2e.py,python,12
  tests/e2e/__init__.py,python,0
  tests/integration/test_api.py,python,19
  tests/integration/__init__.py,python,0
  tests/integration/test_sql_fixes.py,python,11
  tests/integration/test_integrations_api.py,python,14
  tests/integration/test_git_timesheet.py,python,8
  src/ocr/extractors.py,python,10
  src/ocr/engines.py,python,13
  src/ocr/__init__.py,python,3
  src/ocr/preprocessing.py,python,6
  src/ocr/models.py,python,0
  src/ocr/main.py,python,7
  src/infrastructure/__init__.py,python,0
  src/infrastructure/tasks.py,python,7
  src/infrastructure/celery_app.py,python,0
  src/integrations/__init__.py,python,0
  src/integrations/factory.py,python,9
  src/api/config.py,python,0
  src/api/__init__.py,python,0
  src/api/ocr_config.py,python,4
  src/api/document_classifier.py,python,4
  src/api/database.py,python,4
  src/api/main.py,python,5
  src/api/services/doc_generator.py,python,18
  src/api/services/__init__.py,python,0
  src/api/routers/timesheet.py,python,11
  src/api/routers/config.py,python,11
  src/api/routers/clarifications.py,python,6
  src/api/routers/projects.py,python,8
  src/api/routers/auth.py,python,7
  src/api/routers/__init__.py,python,0
  src/api/routers/integrations.py,python,14
  src/api/routers/logs.py,python,9
  src/api/routers/git_timesheet.py,python,11
  src/api/routers/reports.py,python,6
  src/api/routers/documents.py,python,13
  src/api/routers/expenses.py,python,24
  src/api/cqrs/commands.py,python,7
  src/api/cqrs/events.py,python,11
  src/api/cqrs/__init__.py,python,0
  src/api/cqrs/queries.py,python,7
  src/integrations/accounting/fakturownia.py,python,13
  src/integrations/accounting/base.py,python,11
  src/integrations/accounting/__init__.py,python,0
  src/integrations/accounting/wfirma_infakt.py,python,17
  src/integrations/accounting/ifirma.py,python,9
  src/integrations/config/__init__.py,python,0
  src/integrations/config/database.py,python,15
  src/integrations/cloud/dropbox_onedrive.py,python,26
  src/integrations/cloud/base.py,python,15
  src/integrations/cloud/google_s3.py,python,29
  src/integrations/cloud/__init__.py,python,0
  src/integrations/cloud/nextcloud.py,python,13
  web/static/js/markdown-renderer.js,javascript,0
  web/static/js/app.js,javascript,148
  brgenerator/tests/conftest.py,python,4
  brgenerator/tests/__init__.py,python,0
  brgenerator/tests/test_validators.py,python,16
  brgenerator/tests/test_e2e.py,python,12
  brgenerator/src/br_doc_generator/config.py,python,8
  brgenerator/src/br_doc_generator/cli.py,python,8
  brgenerator/src/br_doc_generator/__init__.py,python,6
  brgenerator/src/br_doc_generator/web.py,python,7
  brgenerator/src/br_doc_generator/llm_client.py,python,10
  brgenerator/src/br_doc_generator/models.py,python,18
  brgenerator/src/br_doc_generator/validators/content.py,python,7
  brgenerator/src/br_doc_generator/validators/base.py,python,14
  brgenerator/src/br_doc_generator/validators/structure.py,python,10
  brgenerator/src/br_doc_generator/validators/financial.py,python,9
  brgenerator/src/br_doc_generator/validators/__init__.py,python,0
  brgenerator/src/br_doc_generator/validators/legal.py,python,11
  brgenerator/src/br_doc_generator/validators/pipeline.py,python,7
  brgenerator/src/br_doc_generator/generators/document.py,python,21
  brgenerator/src/br_doc_generator/generators/__init__.py,python,0
  brgenerator/src/br_doc_generator/generators/form.py,python,5
  brgenerator/src/br_doc_generator/generators/pdf.py,python,9

function_details:
  tests/conftest.py:
    functions[20]{name,kind,sig,loc,async,lines,cc,does}:
      event_loop,function,() -> None,68-72,false,5,1,Create event loop for async tests
      db_session,function,"() -> AsyncGenerator[AsyncSession, None]",76-80,true,5,1,Create a fresh database session for each test
      client,function,"(db_session:AsyncSession) -> AsyncGenerator[AsyncClient, None]",84-96,true,13,1,Create async HTTP client for API tests
      sample_project_data,function,() -> None,104-112,false,9,1,Sample project data
      sample_expense_data,function,() -> None,116-129,false,14,1,Sample expense data
      sample_document_data,function,() -> None,133-140,false,8,1,Sample document metadata
      sample_invoice_text,function,() -> None,144-168,false,25,1,Sample OCR text from invoice
      sample_nip_valid,function,() -> None,172-177,false,6,1,Valid Polish NIP numbers for testing
      sample_nip_invalid,function,() -> None,181-188,false,8,1,Invalid Polish NIP numbers for testing
      mock_ocr_result,function,() -> None,196-211,false,16,1,Mock OCR processing result
      mock_llm_classification,function,() -> None,215-227,false,13,1,Mock LLM classification result
      create_test_pdf_content,function,() -> bytes,234-257,false,24,1,Create minimal valid PDF content for testing
      create_test_image_content,function,() -> bytes,260-273,false,14,1,Create minimal valid PNG content for testing
      sample_accounting_integration,function,() -> None,281-299,false,19,1,Sample accounting integration configuration
      sample_cloud_integration,function,() -> None,303-318,false,16,1,Sample cloud storage integration configuration
      sample_invoice_from_api,function,() -> None,322-355,false,34,1,Sample invoice data as returned from accounting API
      sample_cloud_file,function,() -> None,359-370,false,12,1,Sample cloud file metadata
      all_accounting_providers,function,() -> None,374-406,false,33,1,All supported accounting providers with sample credentials
      all_cloud_providers,function,() -> None,410-463,false,54,1,All supported cloud storage providers with sample credentials
      temp_config_db,function,(tmp_path) -> None,471-480,false,10,1,Create temporary config database for testing
  tests/test_documentation_validation.py:
    functions[20]{name,kind,sig,loc,async,lines,cc,does}:
      ValidationReport.to_dict,method,() -> dict,45-61,false,17,2,converts dict
      BRDocumentationValidator.__init__,method,"(content:str) -> None",113-116,false,4,1,creates
      BRDocumentationValidator.validate_all,method,"() -> Dict[str, ValidationReport]",118-125,false,8,1,Run all validation stages.
      BRDocumentationValidator.validate_structure,method,() -> ValidationReport,127-193,false,67,11,"Stage 2: Structure Validation - check markdown structure and sections."
      BRDocumentationValidator.validate_content,method,() -> ValidationReport,195-267,false,73,8,"Stage 3: Content Validation - check completeness and consistency."
      BRDocumentationValidator.validate_legal_compliance,method,() -> ValidationReport,269-339,false,71,9,"Stage 4: Legal Compliance - verify CIT art."
      BRDocumentationValidator.validate_financial,method,() -> ValidationReport,341-428,false,88,14,"Stage 5: Financial Validation - verify calculations and categories."
      BRDocumentationValidator.get_overall_score,method,() -> float,430-434,false,5,3,Calculate overall quality score.
      BRDocumentationValidator.get_full_report,method,() -> dict,436-453,false,18,8,Generate full validation report in YAML-compatible format.
      TestDocumentationStructure.test_structure_valid,method,() -> None,530-535,false,6,1,Valid document should pass structure validation.
      TestDocumentationStructure.test_structure_missing_header,method,() -> None,537-542,false,6,2,Document without H1 should fail.
      TestDocumentationStructure.test_structure_missing_sections,method,() -> None,544-550,false,7,3,Document without required sections should have issues.
      TestDocumentationContent.test_content_with_expenses,method,() -> None,556-566,false,11,1,Document with expense details should pass.
      TestDocumentationContent.test_content_missing_justification,method,() -> None,568-573,false,6,2,Document without B+R justification should warn.
      TestLegalCompliance.test_legal_with_all_requirements,method,() -> None,579-590,false,12,1,Document with all legal requirements should pass.
      TestLegalCompliance.test_legal_missing_nip,method,() -> None,592-597,false,6,2,Document without NIP should fail.
      TestFinancialValidation.test_financial_with_amounts,method,() -> None,603-613,false,11,1,Document with amounts should pass.
      TestFinancialValidation.test_financial_missing_amounts,method,() -> None,615-620,false,6,2,Document without amounts should fail.
      TestFullValidation.test_full_validation_pipeline,method,() -> None,626-638,false,13,1,Run all validation stages on sample document.
      TestFullValidation.test_full_report_format,method,() -> None,640-651,false,12,1,Verify report format matches brgenerator spec.
  tests/test_invoice_detection.py:
    functions[9]{name,kind,sig,loc,async,lines,cc,does}:
      TestInvoiceTypeDetection.test_cost_invoice_vendor_nip_different,method,() -> None,11-18,false,8,1,Invoice from external vendor should be detected as expense.
      TestInvoiceTypeDetection.test_revenue_invoice_we_are_seller,method,() -> None,20-27,false,8,1,Invoice where we are seller should be detected as revenue.
      TestInvoiceTypeDetection.test_cost_invoice_seller_nip_field,method,() -> None,29-36,false,8,1,Test with seller_nip field instead of vendor_nip.
      TestInvoiceTypeDetection.test_revenue_invoice_nip_sprzedawcy_field,method,() -> None,38-45,false,8,1,Test with Polish field names.
      TestInvoiceTypeDetection.test_cost_invoice_no_buyer_nip,method,() -> None,47-53,false,7,1,Invoice with no buyer NIP but different seller should be expense.
      TestInvoiceTypeDetection.test_revenue_invoice_nip_with_dashes,method,() -> None,55-62,false,8,1,NIP with formatting should still match.
      TestInvoiceTypeDetection.test_cost_invoice_empty_nips,method,() -> None,64-71,false,8,1,Invoice with empty NIPs defaults to expense.
      TestInvoiceTypeDetection.test_cost_invoice_none_nips,method,() -> None,73-80,false,8,1,Invoice with None NIPs defaults to expense.
      TestInvoiceTypeDetection.test_revenue_from_ocr_text_hint,method,() -> None,82-88,false,7,1,Test detection from OCR text hints.
  cli/validate_documentation.py:
    functions[6]{name,kind,sig,loc,async,lines,cc,does}:
      fetch_documentation,function,"(project_id:str, filename:str=None) -> str",32-55,false,24,4,Fetch documentation from API.
      validate_and_report,function,"(content:str, output_format:str='text') -> dict",58-64,false,7,1,Run validation and generate report.
      print_report,function,"(report:dict, output_format:str='text') -> None",67-118,false,52,9,Print validation report.
      _status_icon,function,"(status:str) -> str",121-122,false,2,1,status icon
      _severity_icon,function,"(severity:str) -> str",125-126,false,2,1,severity icon
      main,function,() -> None,129-176,false,48,8,main
  cli/generate_sample_invoices.py:
    functions[4]{name,kind,sig,loc,async,lines,cc,does}:
      generate_html_invoice,function,"(invoice_data:dict, output_path:Path) -> None",46-112,false,67,1,Generate invoice as HTML file.
      generate_pdf_invoice,function,"(invoice_data:dict, output_path:Path) -> None",115-169,false,55,1,Generate invoice as PDF file using reportlab.
      generate_invoice,function,"(invoice_data:dict, output_path:Path) -> None",172-177,false,6,2,Generate invoice in best available format.
      main,function,() -> None,180-230,false,51,3,main
  cli/br_cli.py:
    functions[13]{name,kind,sig,loc,async,lines,cc,does}:
      api_call,function,"(method:str, endpoint:str, data=None, files=None) -> None",23-45,false,23,8,Make API call and return JSON response.
      cmd_health,function,(args) -> None,48-54,false,7,1,Check API health.
      cmd_projects_list,function,(args) -> None,57-63,false,7,2,List all projects.
      cmd_expenses_list,function,(args) -> None,66-77,false,12,3,List expenses for a project.
      cmd_revenues_list,function,(args) -> None,80-90,false,11,1,List revenues for a project.
      cmd_upload,function,(args) -> None,93-108,false,16,2,Upload a document for OCR processing.
      cmd_docs_list,function,(args) -> None,111-122,false,12,3,List generated documentation files.
      cmd_docs_generate,function,(args) -> None,125-135,false,11,1,Generate project summary documentation.
      cmd_docs_view,function,(args) -> None,138-143,false,6,1,View documentation content.
      cmd_docs_history,function,(args) -> None,146-154,false,9,2,View documentation version history.
      cmd_expense_qualify,function,(args) -> None,157-169,false,13,1,Mark expense as B+R qualified.
      cmd_timesheet_list,function,(args) -> None,172-180,false,9,2,List timesheet entries.
      main,function,() -> None,183-274,false,92,4,main
  tests/unit/test_extractors.py:
    functions[25]{name,kind,sig,loc,async,lines,cc,does}:
      TestInvoiceExtractor.extractor,method,() -> None,13-14,false,2,1,extractor
      TestInvoiceExtractor.test_extract_nip_from_text,method,"(extractor, sample_invoice_text) -> None",18-26,true,9,3,Test NIP extraction from invoice text
      TestInvoiceExtractor.test_extract_invoice_number,method,"(extractor, sample_invoice_text) -> None",30-35,true,6,1,Test invoice number extraction
      TestInvoiceExtractor.test_extract_dates,method,"(extractor, sample_invoice_text) -> None",39-46,true,8,2,Test date extraction from invoice
      TestInvoiceExtractor.test_extract_amounts,method,"(extractor, sample_invoice_text) -> None",50-55,true,6,2,Test amount extraction from invoice
      TestInvoiceExtractor.test_extraction_confidence,method,"(extractor, sample_invoice_text) -> None",59-64,true,6,1,Test extraction confidence score
      TestInvoiceExtractor.test_extract_empty_text,method,(extractor) -> None,68-73,true,6,1,Test extraction from empty text
      TestInvoiceExtractor.test_document_type_default,method,(extractor) -> None,77-81,true,5,1,Test default document type
      TestInvoiceExtractor.test_document_type_override,method,(extractor) -> None,85-89,true,5,1,Test document type override
      TestDateParsing.extractor,method,() -> None,96-97,false,2,1,extractor
      TestDateParsing.test_parse_date_dd_mm_yyyy_dot,method,(extractor) -> None,100-103,false,4,1,Test parsing DD.MM.YYYY format
      TestDateParsing.test_parse_date_dd_mm_yyyy_dash,method,(extractor) -> None,106-109,false,4,1,Test parsing DD-MM-YYYY format
      TestDateParsing.test_parse_date_yyyy_mm_dd,method,(extractor) -> None,112-115,false,4,1,Test parsing YYYY-MM-DD format
      TestDateParsing.test_parse_date_polish_month,method,(extractor) -> None,118-121,false,4,1,Test parsing date with Polish month name
      TestDateParsing.test_parse_invalid_date,method,(extractor) -> None,124-127,false,4,1,Test parsing invalid date
      TestAmountParsing.extractor,method,() -> None,134-135,false,2,1,extractor
      TestAmountParsing.test_parse_amount_comma_decimal,method,(extractor) -> None,138-141,false,4,1,Test parsing amount with comma decimal
      TestAmountParsing.test_parse_amount_dot_decimal,method,(extractor) -> None,144-147,false,4,1,Test parsing amount with dot decimal
      TestAmountParsing.test_parse_amount_with_spaces,method,(extractor) -> None,150-153,false,4,1,Test parsing amount with thousand separator spaces
      TestAmountParsing.test_parse_amount_large,method,(extractor) -> None,156-159,false,4,1,Test parsing large amount
      TestAmountParsing.test_parse_amount_empty,method,(extractor) -> None,162-165,false,4,1,Test parsing empty amount
      TestAmountParsing.test_parse_amount_none,method,(extractor) -> None,168-171,false,4,1,Test parsing None amount
      TestExtractorFactory.test_get_invoice_extractor,method,() -> None,178-181,false,4,1,Test getting invoice extractor
      TestExtractorFactory.test_get_default_extractor,method,() -> None,184-187,false,4,1,Test getting default extractor
      TestExtractorFactory.test_get_unknown_extractor,method,() -> None,190-193,false,4,1,Test getting unknown extractor type falls back to invoice
  tests/unit/test_validators.py:
    functions[15]{name,kind,sig,loc,async,lines,cc,does}:
      TestNIPValidation.test_valid_nip_tomasz_sapletta,method,() -> None,12-14,false,3,1,Test valid NIP - Tomasz Sapletta
      TestNIPValidation.test_valid_nip_with_dashes,method,() -> None,17-19,false,3,1,Test valid NIP with dashes
      TestNIPValidation.test_valid_nip_with_spaces,method,() -> None,22-24,false,3,1,Test valid NIP with spaces
      TestNIPValidation.test_invalid_nip_wrong_checksum,method,() -> None,27-29,false,3,1,Test invalid NIP - wrong checksum
      TestNIPValidation.test_invalid_nip_too_short,method,() -> None,32-34,false,3,1,Test invalid NIP - too short
      TestNIPValidation.test_invalid_nip_too_long,method,() -> None,37-39,false,3,1,Test invalid NIP - too long
      TestNIPValidation.test_invalid_nip_all_zeros,method,() -> None,42-44,false,3,1,Test invalid NIP - all zeros
      TestNIPValidation.test_invalid_nip_letters,method,() -> None,47-49,false,3,1,Test invalid NIP - contains letters
      TestNIPValidation.test_empty_nip,method,() -> None,52-54,false,3,1,Test empty NIP
      TestNIPValidation.test_various_nips,method,"(nip, expected) -> None",64-66,false,3,1,Parametrized test for various NIPs
      TestREGONValidation.test_valid_regon_9_digit,method,() -> None,73-76,false,4,1,Test valid 9-digit REGON
      TestREGONValidation.test_invalid_regon_wrong_checksum,method,() -> None,79-81,false,3,1,Test invalid REGON - wrong checksum
      TestREGONValidation.test_invalid_regon_too_short,method,() -> None,84-86,false,3,1,Test invalid REGON - too short
      TestREGONValidation.test_invalid_regon_wrong_length,method,() -> None,89-91,false,3,1,Test invalid REGON - wrong length (not 9 or 14)
      TestREGONValidation.test_empty_regon,method,() -> None,94-96,false,3,1,Test empty REGON
  tests/unit/test_integrations.py:
    functions[15]{name,kind,sig,loc,async,lines,cc,does}:
      TestConfigDatabase.config_db,method,(tmp_path) -> None,19-26,false,8,1,Create temporary config database
      TestConfigDatabase.test_save_and_get_integration,method,(config_db) -> None,29-47,false,19,1,Test saving and retrieving integration
      TestConfigDatabase.test_list_integrations,method,(config_db) -> None,50-76,false,27,1,Test listing integrations
      TestConfigDatabase.test_delete_integration,method,(config_db) -> None,79-93,false,15,1,Test deleting integration
      TestConfigDatabase.test_encryption_decryption,method,(config_db) -> None,96-104,false,9,1,Test credential encryption/decryption
      TestConfigDatabase.test_sync_log,method,(config_db) -> None,107-122,false,16,1,Test sync logging
      TestInvoiceModel.test_invoice_item_calculation,method,() -> None,129-141,false,13,1,Test invoice item amount calculation
      TestInvoiceModel.test_invoice_creation,method,() -> None,144-161,false,18,1,Test Invoice model creation
      TestCloudFileModel.test_cloud_file_creation,method,() -> None,168-180,false,13,1,Test CloudFile model creation
      TestCloudFileModel.test_upload_result_success,method,() -> None,183-193,false,11,1,Test UploadResult success
      TestCloudFileModel.test_upload_result_failure,method,() -> None,196-204,false,9,1,Test UploadResult failure
      TestFactoryFunctions.test_get_accounting_client_ifirma,method,() -> None,211-222,false,12,1,Test creating iFirma client
      TestFactoryFunctions.test_get_cloud_client_nextcloud,method,() -> None,225-239,false,15,1,Test creating Nextcloud client
      TestFactoryFunctions.test_get_cloud_client_s3,method,() -> None,242-256,false,15,1,Test creating S3 client
      TestFactoryFunctions.test_get_unknown_provider,method,() -> None,259-265,false,7,1,Test handling unknown provider
  tests/e2e/test_web_gui_smoke.py:
    functions[3]{name,kind,sig,loc,async,lines,cc,does}:
      test_web_serves_index_html,function,() -> None,12-17,true,6,1,checks web serves index html
      test_web_serves_static_js,function,() -> None,22-26,true,5,1,checks web serves static js
      test_web_proxies_api_health,function,() -> None,31-36,true,6,1,checks web proxies api health
  tests/e2e/test_scenarios.py:
    functions[6]{name,kind,sig,loc,async,lines,cc,does}:
      TestDocumentProcessingE2E.test_full_document_processing_flow,method,"(client:AsyncClient) -> None",19-52,true,34,4,"Full E2E test: Upload document -> OCR -> Create expense -> Classify -> Report"
      TestDocumentProcessingE2E.test_expense_classification_flow,method,"(client:AsyncClient, sample_expense_data) -> None",56-92,true,37,1,"E2E test: Create expense -> Auto-classify -> Manual override -> Verify"
      TestReportGenerationE2E.test_monthly_report_generation_flow,method,"(client:AsyncClient) -> None",100-139,true,40,1,"E2E test: Generate monthly report -> Verify data -> Check summary"
      TestClarificationWorkflowE2E.test_clarification_qa_flow,method,"(client:AsyncClient, sample_expense_data) -> None",147-189,true,43,1,"E2E test: Create expense -> Create clarification -> Answer -> Verify resolved"
      TestProjectManagementE2E.test_project_lifecycle_flow,method,"(client:AsyncClient) -> None",197-249,true,53,1,"E2E test: Create project -> Add expenses -> Update totals -> Get summary"
      TestFullBusinessScenarioE2E.test_monthly_br_workflow,method,"(client:AsyncClient) -> None",258-339,true,82,3,"Full monthly B+R workflow:"
  tests/e2e/test_integrations_e2e.py:
    functions[12]{name,kind,sig,loc,async,lines,cc,does}:
      TestAccountingIntegrationE2E.test_full_accounting_integration_setup_and_sync,method,"(client:AsyncClient) -> None",17-90,true,74,3,"Full E2E test: Setup accounting integration -> Verify -> Sync invoices -> Check..."
      TestAccountingIntegrationE2E.test_multiple_accounting_integrations_workflow,method,"(client:AsyncClient) -> None",94-147,true,54,9,"E2E test: Setup multiple accounting integrations and manage them"
      TestCloudStorageIntegrationE2E.test_full_cloud_storage_integration_setup,method,"(client:AsyncClient) -> None",155-218,true,64,4,"Full E2E test: Setup cloud storage -> Verify -> Upload report -> Check logs"
      TestCloudStorageIntegrationE2E.test_all_cloud_providers_setup,method,"(client:AsyncClient) -> None",222-293,true,72,5,"E2E test: Setup all supported cloud storage providers"
      TestIntegrationSyncWorkflowE2E.test_invoice_sync_workflow,method,"(client:AsyncClient) -> None",301-335,true,35,1,"E2E test: Setup integration -> Trigger sync -> Check logs -> Verify data"
      TestIntegrationSyncWorkflowE2E.test_report_upload_workflow,method,"(client:AsyncClient) -> None",339-370,true,32,1,"E2E test: Setup cloud integration -> Upload report -> Check logs"
      TestIntegrationSyncWorkflowE2E.test_bulk_sync_all_integrations,method,"(client:AsyncClient) -> None",374-423,true,50,3,"E2E test: Setup multiple integrations -> Sync all -> Upload all reports"
      TestIntegrationErrorHandlingE2E.test_invalid_provider_error,method,"(client:AsyncClient) -> None",431-441,true,11,1,Test error handling for invalid provider
      TestIntegrationErrorHandlingE2E.test_duplicate_integration_id_error,method,"(client:AsyncClient) -> None",445-465,true,21,1,Test error handling for duplicate integration ID
      TestIntegrationErrorHandlingE2E.test_wrong_integration_type_for_operation,method,"(client:AsyncClient) -> None",469-491,true,23,1,Test error handling when using wrong integration type for operation
      TestIntegrationErrorHandlingE2E.test_nonexistent_integration_error,method,"(client:AsyncClient) -> None",495-499,true,5,1,Test error handling for nonexistent integration
      TestFullIntegrationBusinessScenarioE2E.test_complete_monthly_workflow_with_integrations,method,"(client:AsyncClient) -> None",508-642,true,135,4,"Complete monthly B+R workflow with integrations:"
  tests/integration/test_api.py:
    functions[19]{name,kind,sig,loc,async,lines,cc,does}:
      TestHealthEndpoints.test_api_health,method,"(client:AsyncClient) -> None",13-21,true,9,1,Test API health endpoint
      TestHealthEndpoints.test_root_endpoint,method,"(client:AsyncClient) -> None",25-32,true,8,1,Test root endpoint
      TestProjectsAPI.test_create_project,method,"(client:AsyncClient, sample_project_data) -> None",40-49,true,10,1,Test creating a new project
      TestProjectsAPI.test_get_project,method,"(client:AsyncClient) -> None",53-59,true,7,1,Test getting default project
      TestProjectsAPI.test_list_projects,method,"(client:AsyncClient) -> None",63-69,true,7,1,Test listing projects
      TestProjectsAPI.test_list_projects_filter_by_year,method,"(client:AsyncClient) -> None",73-80,true,8,2,Test listing projects filtered by fiscal year
      TestExpensesAPI.test_get_br_categories,method,"(client:AsyncClient) -> None",88-106,true,19,3,Test getting B+R expense categories
      TestExpensesAPI.test_create_expense,method,"(client:AsyncClient, sample_expense_data) -> None",110-118,true,9,1,Test creating an expense
      TestExpensesAPI.test_list_expenses,method,"(client:AsyncClient) -> None",122-128,true,7,1,Test listing expenses
      TestExpensesAPI.test_list_expenses_filter_br_qualified,method,"(client:AsyncClient) -> None",132-139,true,8,2,Test listing expenses filtered by B+R qualification
      TestDocumentsAPI.test_list_documents,method,"(client:AsyncClient) -> None",147-153,true,7,1,Test listing documents
      TestDocumentsAPI.test_upload_document_invalid_type,method,"(client:AsyncClient) -> None",157-163,true,7,1,Test uploading document with invalid type
      TestReportsAPI.test_list_monthly_reports,method,"(client:AsyncClient) -> None",171-177,true,7,1,Test listing monthly reports
      TestReportsAPI.test_get_annual_br_summary,method,"(client:AsyncClient) -> None",181-191,true,11,1,Test getting annual B+R summary
      TestReportsAPI.test_get_annual_ip_box_summary,method,"(client:AsyncClient) -> None",195-206,true,12,1,Test getting annual IP Box summary
      TestClarificationsAPI.test_list_clarifications,method,"(client:AsyncClient) -> None",214-220,true,7,1,Test listing clarifications
      TestClarificationsAPI.test_get_pending_count,method,"(client:AsyncClient) -> None",224-231,true,8,1,Test getting pending clarifications count
      TestAuthAPI.test_register_user,method,"(client:AsyncClient) -> None",239-249,true,11,1,Test user registration
      TestAuthAPI.test_login_invalid_credentials,method,"(client:AsyncClient) -> None",253-260,true,8,1,Test login with invalid credentials
  tests/integration/test_sql_fixes.py:
    functions[11]{name,kind,sig,loc,async,lines,cc,does}:
      TestProjectsSQL.test_create_project_sql,method,"(client:AsyncClient) -> None",14-44,true,31,1,Test that project creation uses text() correctly
      TestProjectsSQL.test_list_projects_with_filters_sql,method,"(client:AsyncClient) -> None",48-56,true,9,1,Test that list projects with filters uses text() correctly
      TestDocumentsSQL.test_list_documents_sql,method,"(client:AsyncClient) -> None",64-68,true,5,1,Test that list documents uses text() correctly
      TestDocumentsSQL.test_list_documents_with_filters_sql,method,"(client:AsyncClient) -> None",72-76,true,5,1,Test that list documents with filters uses text() correctly
      TestExpensesSQL.test_list_expenses_sql,method,"(client:AsyncClient) -> None",84-88,true,5,1,Test that list expenses uses text() correctly
      TestExpensesSQL.test_expenses_categories_sql,method,"(client:AsyncClient) -> None",92-98,true,7,1,Test that expenses categories endpoint works
      TestReportsSQL.test_monthly_reports_sql,method,"(client:AsyncClient) -> None",106-109,true,4,1,Test that monthly reports uses text() correctly
      TestReportsSQL.test_annual_br_summary_sql,method,"(client:AsyncClient) -> None",113-119,true,7,1,Test that annual B+R summary uses text() correctly
      TestClarificationsSQL.test_list_clarifications_sql,method,"(client:AsyncClient) -> None",127-131,true,5,1,Test that list clarifications uses text() correctly
      TestClarificationsSQL.test_pending_count_sql,method,"(client:AsyncClient) -> None",135-140,true,6,1,Test that pending count uses text() correctly
      TestAuthSQL.test_register_user_sql,method,"(client:AsyncClient) -> None",148-158,true,11,1,Test that user registration uses text() correctly
  tests/integration/test_integrations_api.py:
    functions[14]{name,kind,sig,loc,async,lines,cc,does}:
      TestIntegrationsAPI.test_list_providers,method,"(client:AsyncClient) -> None",13-31,true,19,3,Test listing available providers
      TestIntegrationsAPI.test_create_integration,method,"(client:AsyncClient) -> None",35-60,true,26,1,Test creating a new integration
      TestIntegrationsAPI.test_create_cloud_integration,method,"(client:AsyncClient) -> None",64-84,true,21,1,Test creating cloud storage integration
      TestIntegrationsAPI.test_list_integrations,method,"(client:AsyncClient) -> None",88-94,true,7,1,Test listing integrations
      TestIntegrationsAPI.test_list_integrations_by_type,method,"(client:AsyncClient) -> None",98-121,true,24,2,Test listing integrations filtered by type
      TestIntegrationsAPI.test_get_integration,method,"(client:AsyncClient) -> None",125-141,true,17,1,Test getting single integration
      TestIntegrationsAPI.test_get_nonexistent_integration,method,"(client:AsyncClient) -> None",145-149,true,5,1,Test getting non-existent integration
      TestIntegrationsAPI.test_update_integration,method,"(client:AsyncClient) -> None",153-171,true,19,1,Test updating integration
      TestIntegrationsAPI.test_delete_integration,method,"(client:AsyncClient) -> None",175-192,true,18,1,Test deleting integration
      TestIntegrationsAPI.test_duplicate_integration_id,method,"(client:AsyncClient) -> None",196-211,true,16,1,Test creating integration with duplicate ID
      TestIntegrationsAPI.test_invalid_provider,method,"(client:AsyncClient) -> None",215-224,true,10,1,Test creating integration with invalid provider
      TestIntegrationsAPI.test_get_sync_logs,method,"(client:AsyncClient) -> None",228-242,true,15,1,Test getting sync logs
      TestIntegrationSyncAPI.test_sync_invoices_invalid_type,method,"(client:AsyncClient) -> None",250-267,true,18,1,Test syncing invoices with non-accounting integration
      TestIntegrationSyncAPI.test_upload_report_invalid_type,method,"(client:AsyncClient) -> None",271-288,true,18,1,Test uploading report to non-cloud integration
  tests/integration/test_git_timesheet.py:
    functions[8]{name,kind,sig,loc,async,lines,cc,does}:
      TestGitTimesheetAPI.test_scan_repos_valid_path,method,() -> None,14-34,true,21,2,Test scanning for git repositories with valid path
      TestGitTimesheetAPI.test_scan_repos_invalid_path,method,() -> None,37-50,true,14,1,Test scanning with invalid path returns 400
      TestGitTimesheetAPI.test_scan_repos_max_depth_validation,method,() -> None,53-74,true,22,1,Test that max_depth is validated (1-4)
      TestGitTimesheetAPI.test_scan_repos_missing_folder_path,method,() -> None,77-87,true,11,1,Test that folder_path is required
      TestGitTimesheetAPI.test_commits_endpoint_empty_repos,method,() -> None,90-104,true,15,1,Test commits endpoint with empty repo list
      TestGitTimesheetAPI.test_commits_endpoint_with_filters,method,() -> None,107-124,true,18,1,Test commits endpoint with date filters
      TestGitTimesheetAPI.test_generate_timesheet_validation,method,() -> None,127-142,true,16,1,Test timesheet generation requires valid data
      TestGitTimesheetPathMapping.test_host_path_mapping,method,() -> None,149-166,true,18,3,Test that host paths are correctly mapped to container paths
  src/ocr/extractors.py:
    functions[10]{name,kind,sig,loc,async,lines,cc,does}:
      validate_nip,function,"(nip:str) -> bool",13-33,false,21,6,Validate Polish NIP (tax identification number).
      validate_regon,function,"(regon:str) -> bool",36-54,false,19,8,Validate Polish REGON (business registry number).
      get_extractor,function,"(document_type:str='invoice') -> None",269-271,false,3,1,Factory function to get appropriate extractor.
      InvoiceExtractor.extract,method,"(text:str, document_type:Optional[str]=None) -> Dict[str, Any]",103-174,true,72,15,Extract structured data from invoice text.
      InvoiceExtractor._extract_nips,method,"(text:str) -> List[Dict[str, Any]]",176-196,false,21,5,Extract and validate all NIP numbers.
      InvoiceExtractor._extract_pattern,method,"(field:str, text:str) -> Optional[str]",198-204,false,7,3,Extract first match for a field pattern.
      InvoiceExtractor._extract_dates,method,"(text:str) -> List[str]",206-219,false,14,5,Extract and parse all dates from text.
      InvoiceExtractor._parse_date,method,"(date_str:str) -> Optional[date]",221-239,false,19,7,Parse various Polish date formats.
      InvoiceExtractor._parse_amount,method,"(amount_str:str) -> Optional[float]",241-252,false,12,4,Parse Polish amount format to float.
      InvoiceExtractor._extract_vendor_name,method,"(text:str) -> Optional[str]",254-266,false,13,5,Extract vendor name using heuristics.
  src/ocr/engines.py:
    functions[13]{name,kind,sig,loc,async,lines,cc,does}:
      get_ocr_engine,function,"(engine_name:str='paddleocr', language:str='pol', use_gpu:bool=True) -> BaseOCREngine",277-299,true,23,2,Factory function to get OCR engine instance (async)
      BaseOCREngine.__init__,method,"(language:str='pol', use_gpu:bool=True) -> None",30-33,false,4,1,creates
      BaseOCREngine.initialize,method,() -> None,36-38,true,3,1,Initialize the OCR engine
      BaseOCREngine.process,method,"(image:Any) -> OCRResult",41-43,true,3,1,Process an image and return OCR result
      BaseOCREngine._ensure_initialized,method,() -> None,45-48,false,4,2,Ensure engine is initialized
      TesseractEngine.initialize,method,() -> None,63-74,true,12,2,Initialize Tesseract
      TesseractEngine.process,method,"(image:Any) -> OCRResult",76-125,true,50,5,Process image with Tesseract
      PaddleOCREngine.__init__,method,"(language:str='pol', use_gpu:bool=True) -> None",141-143,false,3,1,creates
      PaddleOCREngine.initialize,method,() -> None,145-165,true,21,2,Initialize PaddleOCR
      PaddleOCREngine.process,method,"(image:Any) -> OCRResult",167-201,true,35,7,Process image with PaddleOCR
      EasyOCREngine.__init__,method,"(language:str='pol', use_gpu:bool=True) -> None",216-218,false,3,1,creates
      EasyOCREngine.initialize,method,() -> None,220-236,true,17,2,Initialize EasyOCR
      EasyOCREngine.process,method,"(image:Any) -> OCRResult",238-274,true,37,4,Process image with EasyOCR
  src/ocr/__init__.py:
    functions[3]{name,kind,sig,loc,async,lines,cc,does}:
      get_ocr_engine,function,() -> None,8-10,false,3,1,retrieves ocr engine
      preprocess_image,function,() -> None,13-15,false,3,1,preprocess image
      preprocess_pdf,function,() -> None,18-20,false,3,1,preprocess pdf
  src/ocr/preprocessing.py:
    functions[6]{name,kind,sig,loc,async,lines,cc,does}:
      preprocess_image,function,"(image_path:Path, dpi:int=300, denoise:bool=True, deskew:bool=True, binarize:bool=False) -> np.ndarray",18-81,true,64,7,Preprocess an image for optimal OCR results.
      preprocess_pdf,function,"(pdf_path:Path, dpi:int=300, denoise:bool=True, deskew:bool=True) -> List[np.ndarray]",84-147,true,64,7,Convert PDF pages to preprocessed images.
      _deskew_image,function,"(image:Any) -> np.ndarray",150-212,true,63,9,Detect and correct image skew (rotation).
      enhance_contrast,function,"(image:Any) -> np.ndarray",215-218,false,4,1,Enhance image contrast using CLAHE
      remove_shadows,function,"(image:Any) -> np.ndarray",221-233,false,13,1,Remove shadows from document image
      detect_document_type,function,"(image:Any) -> str",236-255,false,20,3,Attempt to detect document type based on visual features.
  src/ocr/main.py:
    functions[7]{name,kind,sig,loc,async,lines,cc,does}:
      lifespan,function,"(app:FastAPI) -> None",86-112,true,27,1,Application lifespan manager
      health_check,function,() -> None,141-148,true,8,1,Health check endpoint
      list_engines,function,() -> None,152-162,true,11,1,List available OCR engines
      upload_and_process,function,"(background_tasks:BackgroundTasks, file:UploadFile=File(...), engine:str=Query(default='paddleocr'), language:str=Query(default='pol'), dpi:int=Query(default=300, ge=150, le=600), extract_data:bool=Query(default=True), document_type:Optional[str]=Query(default=None)) -> None",166-302,true,137,8,Upload and process a document with OCR.
      get_task_status,function,"(task_id:str) -> None",306-318,true,13,2,Get the status of an OCR task
      get_task_result,function,"(task_id:str) -> None",322-355,true,34,5,Get the result of a completed OCR task
      validate_nip_endpoint,function,"(nip:str) -> None",359-366,true,8,3,Validate Polish NIP number
  src/infrastructure/tasks.py:
    functions[7]{name,kind,sig,loc,async,lines,cc,does}:
      process_ocr,function,"(document_id:str, file_path:str, document_type:str='invoice') -> None",19-65,false,47,3,Process document with OCR.
      update_document_ocr_result,function,"(document_id:str, ocr_result:dict) -> None",69-95,false,27,1,Update document with OCR results in database
      classify_expense,function,"(expense_id:str) -> None",99-141,false,43,3,Classify expense using LLM.
      generate_daily_reports,function,() -> None,145-165,false,21,1,Generate daily reports for all active projects
      generate_monthly_report,function,"(project_id:str, year:int, month:int) -> None",169-172,false,4,1,Generate monthly report for a project
      cleanup_old_files,function,() -> None,176-192,false,17,6,Clean up old uploaded and processed files
      recalculate_all_projects,function,() -> None,196-244,false,49,1,Recalculate totals for all active projects
  src/integrations/factory.py:
    functions[9]{name,kind,sig,loc,async,lines,cc,does}:
      get_accounting_client,function,"(provider:IntegrationProvider, credentials:Dict[str,Any], settings:Dict[str,Any]=None) -> Optional[BaseAccountingClient]",43-65,false,23,2,Create accounting client for specified provider.
      get_cloud_client,function,"(provider:IntegrationProvider, credentials:Dict[str,Any], settings:Dict[str,Any]=None) -> Optional[BaseCloudStorageClient]",68-90,false,23,2,Create cloud storage client for specified provider.
      get_client_from_config,function,"(integration_id:str, config_db:ConfigDatabase=None) -> Optional[Union[BaseAccountingClient, BaseCloudStorageClient]]",93-130,false,38,6,Create client from stored configuration.
      verify_integration,function,"(integration_id:str) -> bool",133-171,true,39,4,Verify integration connection.
      IntegrationManager.__init__,method,"(config_db:ConfigDatabase=None) -> None",180-182,false,3,2,creates
      IntegrationManager.sync_invoices_from_accounting,method,"(integration_id:str, date_from=None, date_to=None, project_id:str=None) -> Dict[str, Any]",184-225,true,42,5,Sync invoices from accounting system to B+R database.
      IntegrationManager.upload_report_to_cloud,method,"(integration_id:str, report_content:bytes, report_name:str, year:int=None, month:int=None) -> Dict[str, Any]",227-279,true,53,6,Upload B+R report to cloud storage.
      IntegrationManager.get_active_accounting_integrations,method,() -> list,281-286,false,6,1,Get list of active accounting integrations
      IntegrationManager.get_active_cloud_integrations,method,() -> list,288-293,false,6,1,Get list of active cloud storage integrations
  src/api/ocr_config.py:
    functions[4]{name,kind,sig,loc,async,lines,cc,does}:
      get_best_engine_for_field,function,"(field_name:str) -> OCREngine",198-201,false,4,2,Get the best OCR engine for a specific field type
      get_engines_for_document_type,function,"(doc_type:str) -> List[OCREngine]",204-210,false,7,2,Get ordered list of recommended engines for a document type
      get_required_fields,function,"(doc_type:str) -> List[str]",213-219,false,7,2,Get list of required fields for a document type
      evaluate_extraction_completeness,function,"(extracted_data:Dict, doc_type:str) -> float",222-229,false,8,5,Calculate how complete the extraction is (0.0 to 1.0)
  src/api/document_classifier.py:
    functions[4]{name,kind,sig,loc,async,lines,cc,does}:
      detect_document_type,function,"(ocr_text:str) -> Tuple[str, float]",159-197,false,39,9,Detect document type from OCR text.
      normalize_currency,function,"(raw_currency:Optional[str]) -> str",200-213,false,14,2,Normalize currency symbol/name to ISO code
      extract_document_data,function,"(ocr_text:str, document_type:str) -> Dict[str, Any]",216-241,false,26,7,Extract structured data from OCR text based on document type.
      classify_and_extract,function,"(ocr_text:str, initial_type:str='auto') -> Dict[str, Any]",244-263,false,20,3,Main function to classify document and extract data.
  src/api/database.py:
    functions[4]{name,kind,sig,loc,async,lines,cc,does}:
      init_database,function,() -> None,37-45,true,9,1,Initialize database connection
      close_database,function,() -> None,48-51,true,4,1,Close database connection
      get_db,function,"() -> AsyncGenerator[AsyncSession, None]",54-64,true,11,2,Dependency for getting database session
      get_db_context,function,"() -> AsyncGenerator[AsyncSession, None]",68-78,true,11,2,Context manager for database session
  src/api/main.py:
    functions[5]{name,kind,sig,loc,async,lines,cc,does}:
      lifespan,function,"(app:FastAPI) -> None",31-47,true,17,1,Application lifespan manager
      global_exception_handler,function,"(request:Request, exc:Exception) -> None",87-95,true,9,1,global exception handler
      health_check,function,() -> None,114-123,true,10,1,Health check endpoint
      root,function,() -> None,128-138,true,11,1,Root endpoint with API info
      metrics,function,() -> None,143-148,true,6,1,Basic metrics endpoint
  src/api/services/doc_generator.py:
    functions[18]{name,kind,sig,loc,async,lines,cc,does}:
      get_doc_generator,function,() -> ExpenseDocumentGenerator,946-951,false,6,2,Get singleton instance of document generator.
      DocumentVersionControl.__init__,method,"(repo_path:Path) -> None",52-55,false,4,1,creates
      DocumentVersionControl.commit_file,method,"(file_path:Path, message:str) -> Optional[str]",57-88,false,32,2,Save a version of the file and return version hash.
      DocumentVersionControl.get_file_history,method,"(file_path:Path, limit:int=20) -> List[Dict[str, Any]]",90-116,false,27,5,Get version history for a file.
      DocumentVersionControl.get_file_at_commit,method,"(file_path:Path, commit:str) -> Optional[str]",118-130,false,13,3,Get file content at specific version.
      ExpenseDocumentGenerator.__init__,method,"(llm_service_url:Optional[str]=None) -> None",153-157,false,5,2,creates
      ExpenseDocumentGenerator.generate_expense_documentation,method,"(expense:Dict[str,Any], project:Dict[str,Any], document:Optional[Dict[str,Any]]=None) -> Dict[str, Any]",159-197,true,39,2,Generate B+R documentation for a single expense.
      ExpenseDocumentGenerator._build_expense_prompt,method,"(expense:Dict[str,Any], project:Dict[str,Any], document:Optional[Dict[str,Any]]) -> str",199-258,false,60,5,Build prompt for expense documentation generation.
      ExpenseDocumentGenerator._generate_with_llm,method,"(prompt:str) -> str",260-280,true,21,2,Generate documentation using LLM service.
      ExpenseDocumentGenerator._generate_from_template,method,"(expense:Dict[str,Any], project:Dict[str,Any], document:Optional[Dict[str,Any]]) -> str",282-419,false,138,9,Generate documentation from template (fallback).
      ExpenseDocumentGenerator._save_documentation,method,"(expense:Dict[str,Any], project:Dict[str,Any], content:str) -> Path",421-450,false,30,2,Save documentation to file with version control.
      ExpenseDocumentGenerator.get_document_history,method,"(project_id:str, filename:str) -> List[Dict[str, Any]]",452-455,false,4,1,Get version history for a document.
      ExpenseDocumentGenerator.get_document_at_version,method,"(project_id:str, filename:str, commit:str) -> Optional[str]",457-460,false,4,1,Get document content at specific version.
      ExpenseDocumentGenerator.refine_with_llm,method,"(content:str, validation_issues:List[Dict[str,Any]], max_iterations:int=3) -> Dict[str, Any]",462-567,true,106,10,"Stage 6: Iterative Refinement - Use LLM to fix validation issues."
      ExpenseDocumentGenerator.generate_project_summary,method,"(project:Dict[str,Any], expenses:list[Dict[str,Any]], timesheet_data:Optional[Dict[str,Any]]=None, contractors:Optional[list[Dict[str,Any]]]=None, revenues:Optional[list[Dict[str,Any]]]=None) -> Dict[str, Any]",569-633,true,65,8,Generate summary documentation for entire project.
      ExpenseDocumentGenerator._generate_summary_template,method,"(project:Dict[str,Any], expenses:list, by_category:Dict, total_gross:float, total_br:float, total_deduction:float, timesheet_data:Optional[Dict[str,Any]]=None) -> str",635-846,false,212,20,Generate comprehensive B+R project summary template.
      ExpenseDocumentGenerator._build_expense_details,method,"(expenses:list, company_nip:str='5881918662') -> str",849-927,false,79,9,Build detailed expense descriptions with justifications.
      ExpenseDocumentGenerator._build_expense_list,method,"(expenses:list) -> str",929-939,false,11,5,Build expense list table for summary.
  src/api/routers/timesheet.py:
    functions[11]{name,kind,sig,loc,async,lines,cc,does}:
      ensure_tables,function,"(db:AsyncSession) -> None",74-111,true,38,1,Create timesheet tables if they don't exist
      list_workers,function,"(db:AsyncSession=Depends(get_db)) -> None",117-137,true,21,3,List all workers
      create_worker,function,"(worker:WorkerCreate, db:AsyncSession=Depends(get_db)) -> None",141-165,true,25,1,Create a new worker
      delete_worker,function,"(worker_id:str, db:AsyncSession=Depends(get_db)) -> None",169-175,true,7,1,Deactivate a worker
      get_timesheet_entries,function,"(year:int=Query(...), month:int=Query(...), project_id:Optional[str]=None, worker_id:Optional[str]=None, db:AsyncSession=Depends(get_db)) -> None",181-228,true,48,4,Get timesheet entries for a month
      save_timesheet_entry,function,"(entry:TimesheetEntry, db:AsyncSession=Depends(get_db)) -> None",232-255,true,24,1,Save or update a timesheet entry
      save_timesheet_batch,function,"(entries:List[TimesheetEntry], db:AsyncSession=Depends(get_db)) -> None",259-285,true,27,3,Save multiple timesheet entries at once
      delete_timesheet_entry,function,"(entry_id:str, db:AsyncSession=Depends(get_db)) -> None",289-295,true,7,1,Delete a timesheet entry
      get_timesheet_summary,function,"(year:int=Query(...), month:int=Query(...), db:AsyncSession=Depends(get_db)) -> None",301-353,true,53,4,Get summary of hours by project and worker
      get_contractors,function,"(db:AsyncSession=Depends(get_db)) -> None",359-377,true,19,2,Get list of contractors/vendors from expenses
      get_time_slots,function,() -> None,381-383,true,3,1,Get available time slots
  src/api/routers/config.py:
    functions[11]{name,kind,sig,loc,async,lines,cc,does}:
      list_ocr_engines,function,() -> None,49-65,true,17,2,List all available OCR engines with their capabilities
      list_document_types,function,() -> None,69-96,true,28,3,List all document types with their configurations
      get_field_mappings,function,() -> None,100-105,true,6,3,Get field to engine mappings
      get_ocr_config,function,() -> None,109-121,true,13,2,Get current OCR configuration
      update_ocr_config,function,"(primary_engine:Optional[str]=None, fallback_engines:Optional[List[str]]=None, strategy:Optional[str]=None, min_confidence:Optional[float]=None, use_field_specific:Optional[bool]=None, max_retries:Optional[int]=None, language:Optional[str]=None, use_gpu:Optional[bool]=None) -> None",125-156,true,32,10,Update OCR configuration
      get_llm_config,function,() -> None,160-171,true,12,1,Get current LLM configuration
      update_llm_config,function,"(provider:Optional[str]=None, model:Optional[str]=None, api_base:Optional[str]=None, api_key:Optional[str]=None, temperature:Optional[float]=None, max_tokens:Optional[int]=None, use_for_extraction:Optional[bool]=None, use_for_classification:Optional[bool]=None) -> None",175-209,true,35,10,Update LLM configuration
      list_available_models,function,() -> None,213-226,true,14,1,List available LLM models
      list_strategies,function,() -> None,230-254,true,25,1,List available extraction strategies
      test_ocr_engine,function,"(engine:str, text_sample:str='Faktura VAT nr 123/2025') -> None",258-269,true,12,2,Test OCR engine availability
      test_llm_connection,function,() -> None,273-294,true,22,4,Test LLM connection
  src/api/routers/clarifications.py:
    functions[6]{name,kind,sig,loc,async,lines,cc,does}:
      list_clarifications,function,"(expense_id:Optional[str]=Query(default=None), unanswered_only:bool=Query(default=False), limit:int=Query(default=50, le=100), db:AsyncSession=Depends(get_db)) -> None",43-82,true,40,5,List clarification questions
      get_pending_count,function,"(db:AsyncSession=Depends(get_db)) -> None",86-92,true,7,2,Get count of unanswered clarifications
      get_clarification,function,"(clarification_id:str, db:AsyncSession=Depends(get_db)) -> None",96-121,true,26,3,Get clarification details
      create_clarification,function,"(clarification:ClarificationCreate, db:AsyncSession=Depends(get_db)) -> None",125-153,true,29,1,Create a new clarification question
      answer_clarification,function,"(clarification_id:str, answer:ClarificationAnswer, db:AsyncSession=Depends(get_db)) -> None",157-206,true,50,4,Answer a clarification question
      delete_clarification,function,"(clarification_id:str, db:AsyncSession=Depends(get_db)) -> None",210-216,true,7,1,Delete a clarification question
  src/api/routers/projects.py:
    functions[8]{name,kind,sig,loc,async,lines,cc,does}:
      create_project,function,"(project:ProjectCreate, db:AsyncSession=Depends(get_db)) -> None",81-105,true,25,1,Create a new B+R project
      get_project,function,"(project_id:str, db:AsyncSession=Depends(get_db)) -> None",109-138,true,30,5,Get project details
      list_projects,function,"(fiscal_year:Optional[int]=Query(default=None), status:Optional[str]=Query(default=None), db:AsyncSession=Depends(get_db)) -> None",142-185,true,44,7,List all projects
      update_project,function,"(project_id:str, project:ProjectUpdate, db:AsyncSession=Depends(get_db)) -> None",189-225,true,37,7,Update project details
      get_project_summary,function,"(project_id:str, db:AsyncSession=Depends(get_db)) -> None",229-295,true,67,16,Get detailed project summary with B+R statistics
      recalculate_project_totals,function,"(project_id:str, db:AsyncSession=Depends(get_db)) -> None",299-335,true,37,4,Recalculate project expense totals
      delete_project,function,"(project_id:str, db:AsyncSession=Depends(get_db)) -> None",339-368,true,30,4,Delete a project (only if no expenses attached)
      bulk_assign_expenses,function,"(request:BulkAssignRequest, db:AsyncSession=Depends(get_db)) -> None",378-401,true,24,3,Assign multiple expenses to a project
  src/api/routers/auth.py:
    functions[7]{name,kind,sig,loc,async,lines,cc,does}:
      verify_password,function,"(plain_password:str, hashed_password:str) -> bool",53-54,false,2,1,validates password
      get_password_hash,function,"(password:str) -> str",57-58,false,2,1,retrieves password hash
      create_access_token,function,"(data:dict, expires_delta:Optional[timedelta]=None) -> str",61-65,false,5,2,creates access token
      get_current_user,function,"(token:str=Depends(oauth2_scheme), db:AsyncSession=Depends(get_db)) -> dict",68-103,true,36,5,retrieves current user
      login_for_access_token,function,"(form_data:OAuth2PasswordRequestForm=Depends(), db:AsyncSession=Depends(get_db)) -> None",107-132,true,26,4,OAuth2 compatible token login
      register_user,function,"(user:UserCreate, db:AsyncSession=Depends(get_db)) -> None",136-176,true,41,2,Register a new user
      get_current_user_info,function,"(current_user:dict=Depends(get_current_user), db:AsyncSession=Depends(get_db)) -> None",180-198,true,19,1,Get current user info
  src/api/routers/integrations.py:
    functions[14]{name,kind,sig,loc,async,lines,cc,does}:
      get_db,function,() -> ConfigDatabase,105-106,false,2,1,retrieves db
      get_manager,function,"(db:ConfigDatabase=Depends(get_db)) -> IntegrationManager",109-110,false,2,1,retrieves manager
      list_providers,function,() -> None,118-133,true,16,1,List available integration providers
      create_integration,function,"(integration:IntegrationCreate, db:ConfigDatabase=Depends(get_db)) -> None",137-175,true,39,3,Create a new integration
      list_integrations,function,"(integration_type:Optional[str]=Query(default=None), active_only:bool=Query(default=True), db:ConfigDatabase=Depends(get_db)) -> None",179-203,true,25,3,List all integrations
      get_integration,function,"(integration_id:str, db:ConfigDatabase=Depends(get_db)) -> None",207-226,true,20,2,Get integration details
      update_integration,function,"(integration_id:str, update:IntegrationUpdate, db:ConfigDatabase=Depends(get_db)) -> None",230-251,true,22,4,Update integration configuration
      delete_integration,function,"(integration_id:str, db:ConfigDatabase=Depends(get_db)) -> None",255-263,true,9,2,Delete integration
      verify_integration_connection,function,"(integration_id:str, background_tasks:BackgroundTasks, db:ConfigDatabase=Depends(get_db)) -> None",267-285,true,19,3,Verify integration connection
      sync_invoices,function,"(integration_id:str, sync_request:SyncRequest, background_tasks:BackgroundTasks, manager:IntegrationManager=Depends(get_manager)) -> None",293-317,true,25,3,Sync invoices from accounting system to B+R database
      upload_report_to_cloud,function,"(integration_id:str, upload_request:UploadReportRequest, manager:IntegrationManager=Depends(get_manager)) -> None",321-353,true,33,5,Upload generated report to cloud storage
      get_sync_logs,function,"(integration_id:str, limit:int=Query(default=50, le=100), db:ConfigDatabase=Depends(get_db)) -> None",361-382,true,22,2,Get sync logs for integration
      sync_all_invoices,function,"(sync_request:SyncRequest, background_tasks:BackgroundTasks, manager:IntegrationManager=Depends(get_manager)) -> None",390-411,true,22,2,Sync invoices from all active accounting integrations
      upload_monthly_reports,function,"(year:int=Query(...), month:int=Query(..., ge=1, le=12), manager:IntegrationManager=Depends(get_manager)) -> None",415-444,true,30,3,Upload monthly reports to all active cloud storage integrations
  src/api/routers/logs.py:
    functions[9]{name,kind,sig,loc,async,lines,cc,does}:
      _escape_sse,function,"(text:str) -> str",18-19,false,2,1,escape sse
      _try_get_docker_client,function,() -> None,22-27,false,6,2,try get docker client
      _docker_httpx_client,function,() -> httpx.AsyncClient,30-32,false,3,1,docker httpx client
      _looks_multiplexed,function,"(buf:bytes) -> bool",35-36,false,2,3,looks multiplexed
      stream_docker_logs,function,"(container:str, lines:int=100) -> None",39-152,true,114,29,Stream Docker container logs via SSE
      stream_all_logs,function,"(services:list, lines:int=50) -> None",155-184,true,30,6,Stream logs from multiple Docker containers
      stream_logs,function,"(service:Optional[str]=Query(default=None, description='Service name (api, ocr, llm, web, postgres, redis)'), lines:int=Query(default=100, ge=10, le=1000, description='Number of initial lines')) -> None",188-234,true,47,3,Stream real-time logs via Server-Sent Events (SSE).
      get_logs_snapshot,function,"(service:str=Query(..., description='Service name'), lines:int=Query(default=100, ge=10, le=1000)) -> None",238-311,true,74,14,Get a snapshot of recent logs (non-streaming)
      list_services,function,() -> None,315-328,true,14,1,List available services for log streaming
  src/api/routers/git_timesheet.py:
    functions[11]{name,kind,sig,loc,async,lines,cc,does}:
      run_git_command,function,"(repo_path:str, args:List[str]) -> str",78-93,false,16,3,Run a git command in the specified repository.
      is_git_repo,function,"(path:str) -> bool",96-99,false,4,1,Check if path is a git repository.
      find_git_repos,function,"(base_path:str, max_depth:int, current_depth:int=0) -> List[str]",102-123,false,22,9,Recursively find git repositories up to max_depth.
      get_repo_authors,function,"(repo_path:str) -> List[GitAuthor]",126-145,false,20,4,Get all authors from a git repository with commit counts.
      get_repo_commits,function,"(repo_path:str, authors:List[str]=None, since:str=None, until:str=None) -> List[GitCommit]",148-189,false,42,9,Get commit history from a repository.
      translate_path_to_container,function,"(host_path:str) -> str",196-201,false,6,3,Translate host path to container path.
      translate_path_to_host,function,"(container_path:str) -> str",203-208,false,6,3,Translate container path back to host path.
      scan_for_repositories,function,"(request:ScanRequest) -> None",212-276,true,65,8,Scan a folder for git repositories up to specified depth.
      get_commit_history,function,"(request:CommitHistoryRequest) -> None",280-328,true,49,7,Get commit history from specified repositories.
      generate_timesheet_from_commits,function,"(request:GenerateTimesheetRequest, db:AsyncSession=Depends(get_db)) -> None",332-423,true,92,11,Generate timesheet entries from git commits.
      get_detailed_commits,function,"(repo_path:str=Query(...), author:Optional[str]=None, since:Optional[str]=None, until:Optional[str]=None) -> None",427-500,true,74,16,Get detailed commit log for a single repository.
  src/api/routers/reports.py:
    functions[6]{name,kind,sig,loc,async,lines,cc,does}:
      generate_monthly_report,function,"(request:ReportGenerateRequest, db:AsyncSession=Depends(get_db)) -> None",81-127,true,47,5,Generate or regenerate monthly B+R report
      calculate_monthly_report,function,"(db:AsyncSession, project_id:str, year:int, month:int) -> dict",130-172,true,43,7,processes monthly report
      get_monthly_report,function,"(report_id:str, db:AsyncSession=Depends(get_db)) -> None",176-197,true,22,11,retrieves monthly report
      list_monthly_reports,function,"(project_id:Optional[str]=Query(default=None), fiscal_year:Optional[int]=Query(default=None), db:AsyncSession=Depends(get_db)) -> None",201-229,true,29,13,list monthly reports
      get_annual_br_summary,function,"(fiscal_year:int=Query(...), project_id:str=Query(default='00000000-0000-0000-0000-000000000001'), db:AsyncSession=Depends(get_db)) -> None",233-287,true,55,9,retrieves annual br summary
      get_annual_ip_box_summary,function,"(fiscal_year:int=Query(...), project_id:str=Query(default='00000000-0000-0000-0000-000000000001'), db:AsyncSession=Depends(get_db)) -> None",291-326,true,36,6,retrieves annual ip box summary
  src/api/routers/documents.py:
    functions[13]{name,kind,sig,loc,async,lines,cc,does}:
      upload_document,function,"(background_tasks:BackgroundTasks, file:UploadFile=File(...), project_id:Optional[str]=Query(default='00000000-0000-0000-0000-000000000001'), document_type:str=Query(default='invoice'), db:AsyncSession=Depends(get_db)) -> None",53-120,true,68,2,Upload a document for OCR processing.
      detect_invoice_type,function,"(extracted_data:dict, our_nip:str='5881918662') -> str",123-170,false,48,13,Detect if invoice is a cost (expense) or revenue invoice.
      create_expense_from_document,function,"(doc_id:str, extracted_data:dict, doc_type:str) -> None",173-332,true,160,37,Create expense or revenue record from OCR-extracted document data
      process_document_ocr,function,"(doc_id:str, file_path:str, document_type:str) -> None",335-435,true,101,4,Background task to process document with OCR service
      get_document,function,"(document_id:str, db:AsyncSession=Depends(get_db)) -> None",439-463,true,25,2,Get document details
      list_documents,function,"(project_id:Optional[str]=Query(default=None), status:Optional[str]=Query(default=None), limit:int=Query(default=50, le=100), offset:int=Query(default=0), db:AsyncSession=Depends(get_db)) -> None",467-509,true,43,4,List documents with optional filtering
      reprocess_document,function,"(document_id:str, background_tasks:BackgroundTasks, db:AsyncSession=Depends(get_db)) -> None",513-537,true,25,2,Reprocess document with OCR
      delete_document,function,"(document_id:str, db:AsyncSession=Depends(get_db)) -> None",541-568,true,28,4,Delete a document
      update_document,function,"(document_id:str, db:AsyncSession=Depends(get_db), document_type:Optional[str]=None, ocr_status:Optional[str]=None, extracted_data:Optional[dict]=None) -> None",572-605,true,34,5,Update document fields
      get_document_detail,function,"(document_id:str, db:AsyncSession=Depends(get_db)) -> None",623-650,true,28,2,Get full document details including OCR text
      sync_expenses_from_documents,function,"(background_tasks:BackgroundTasks, db:AsyncSession=Depends(get_db)) -> None",654-690,true,37,3,Create expense records for all completed invoice documents that don't have expen...
      check_document_duplicates,function,"(document_id:str, db:AsyncSession=Depends(get_db)) -> None",694-773,true,80,15,Check if a document might be a duplicate of another document.
      re_extract_document_data,function,"(document_id:str, background_tasks:BackgroundTasks, db:AsyncSession=Depends(get_db)) -> None",777-836,true,60,4,Re-run data extraction on a document using the current OCR text.
  src/api/routers/expenses.py:
    functions[24]{name,kind,sig,loc,async,lines,cc,does}:
      get_br_categories,function,() -> None,168-170,true,3,1,Get list of B+R expense categories according to art.
      create_expense,function,"(expense:ExpenseCreate, background_tasks:BackgroundTasks, db:AsyncSession=Depends(get_db)) -> None",174-213,true,40,1,Create a new expense record
      get_expense,function,"(expense_id:str, db:AsyncSession=Depends(get_db)) -> None",217-264,true,48,10,Get expense details
      list_expenses,function,"(project_id:Optional[str]=Query(default=None), br_qualified:Optional[bool]=Query(default=None), ip_qualified:Optional[bool]=Query(default=None), status:Optional[str]=Query(default=None), year:Optional[int]=Query(default=None), month:Optional[int]=Query(default=None), limit:int=Query(default=50, le=1000), offset:int=Query(default=0)) -> None",268-353,true,86,16,List expenses with filtering
      classify_expense_manually,function,"(expense_id:str, classification:ExpenseClassifyRequest, db:AsyncSession=Depends(get_db)) -> None",357-424,true,68,11,Manually classify expense for B+R or IP Box
      trigger_auto_classification,function,"(expense_id:str, background_tasks:BackgroundTasks, db:AsyncSession=Depends(get_db)) -> None",428-444,true,17,2,Trigger automatic LLM classification
      update_expense_status,function,"(expense_id:str, status_update:ExpenseStatusUpdate, db:AsyncSession=Depends(get_db)) -> None",453-476,true,24,3,Update expense status
      delete_expense,function,"(expense_id:str, db:AsyncSession=Depends(get_db)) -> None",480-496,true,17,2,Delete an expense
      generate_expense_documentation,function,"(expense_id:str, background_tasks:BackgroundTasks, db:AsyncSession=Depends(get_db)) -> None",500-566,true,67,9,Generate B+R documentation for a single expense
      generate_project_documentation_summary,function,"(project_id:str, db:AsyncSession=Depends(get_db)) -> None",570-733,true,164,20,Generate B+R documentation summary for entire project
      list_revenues,function,"(project_id:Optional[str]=Query(default=None), db:AsyncSession=Depends(get_db)) -> None",737-783,true,47,12,List revenues (sales invoices) with optional project filter.
      classify_revenue,function,"(revenue_id:str, classification:dict, db:AsyncSession=Depends(get_db)) -> None",787-869,true,83,12,Classify a revenue for IP Box purposes.
      reclassify_invoice,function,"(invoice_id:str, from_type:str=Query(..., description='Current type: expense or revenue'), to_type:str=Query(..., description='Target type: expense or revenue'), reason:Optional[str]=Query(default=None), db:AsyncSession=Depends(get_db)) -> None",873-900,true,28,2,Reclassify an invoice from expense to revenue or vice versa.
      get_invoice_history,function,"(invoice_id:str, db:AsyncSession=Depends(get_db)) -> None",904-919,true,16,1,Get event history for an invoice (expenses or revenues).
      list_project_documentation,function,"(project_id:str) -> None",923-941,true,19,3,List all generated documentation files for a project
      get_documentation_content,function,"(project_id:str, filename:str) -> None",945-959,true,15,4,Get content of a specific documentation file
      get_documentation_history,function,"(project_id:str, filename:str) -> None",963-977,true,15,2,Get version history for a documentation file
      get_documentation_version,function,"(project_id:str, filename:str, commit:str) -> None",981-999,true,19,4,Get document content at specific version
      refine_documentation_with_llm,function,"(project_id:str, filename:str) -> None",1003-1063,true,61,8,"Stage 6: Iterative Refinement - Use LLM to fix validation issues."
      get_documentation_pdf,function,"(project_id:str, filename:str) -> None",1067-1173,true,107,23,Generate and return PDF from markdown documentation
      classify_expense_with_llm,function,"(expense_id:str) -> None",1176-1262,true,87,4,Background task to classify expense using LLM
      get_br_classifier_system_prompt,function,() -> str,1265-1301,false,37,1,System prompt for B+R expense classifier
      build_classification_prompt,function,(expense_row) -> str,1304-1324,false,21,8,Build prompt for expense classification
      parse_llm_classification,function,"(response:str) -> dict",1327-1345,false,19,4,Parse LLM response to classification dict
  src/api/cqrs/commands.py:
    functions[7]{name,kind,sig,loc,async,lines,cc,does}:
      get_command_handler,function,"(command_type:str, db:AsyncSession) -> CommandHandler",324-334,true,11,2,Factory function to get appropriate command handler.
      CommandHandler.__init__,method,"(db:AsyncSession) -> None",62-64,false,3,1,creates
      CommandHandler.get_event_store,method,() -> EventStore,66-69,true,4,2,retrieves event store
      CommandHandler.handle,method,"(command:Command) -> Dict[str, Any]",72-74,true,3,1,Execute the command and return result.
      ExpenseCommandHandler.handle,method,"(command:ClassifyExpenseCommand) -> Dict[str, Any]",80-130,true,51,4,Classify an expense for B+R deduction.
      RevenueCommandHandler.handle,method,"(command:ClassifyRevenueCommand) -> Dict[str, Any]",136-181,true,46,4,Classify a revenue for IP Box.
      ReclassifyInvoiceHandler.handle,method,"(command:ReclassifyInvoiceCommand) -> Dict[str, Any]",187-321,true,135,7,Reclassify an invoice from expense to revenue or vice versa.
  src/api/cqrs/events.py:
    functions[11]{name,kind,sig,loc,async,lines,cc,does}:
      get_event_store,function,"(db:AsyncSession) -> EventStore",249-253,true,5,1,Factory function to get event store instance.
      DomainEvent.to_dict,method,() -> dict,45-46,false,2,1,converts dict
      InvoiceCreatedEvent.create,method,"(document_id:str, invoice_data:dict, detected_type:str='unknown') -> \"InvoiceCreatedEvent\"",55-65,false,11,1,creates
      InvoiceClassifiedEvent.create_expense,method,"(expense_id:str, br_category:str, br_qualified:bool, deduction_rate:float=1.0, reason:str=None) -> \"InvoiceClassifiedEvent\"",73-85,false,13,2,creates expense
      InvoiceClassifiedEvent.create_revenue,method,"(revenue_id:str, ip_type:str, ip_qualified:bool, description:str=None) -> \"InvoiceClassifiedEvent\"",88-99,false,12,2,creates revenue
      InvoiceReclassifiedEvent.create,method,"(invoice_id:str, from_type:str, to_type:str, reason:str=None) -> \"InvoiceReclassifiedEvent\"",108-116,false,9,1,creates
      EventStore.__init__,method,"(db:AsyncSession) -> None",126-127,false,2,1,creates
      EventStore.ensure_table_exists,method,() -> None,129-163,true,35,2,Create events table if not exists.
      EventStore.append,method,"(event:DomainEvent) -> str",165-193,true,29,3,Append event to the store.
      EventStore.get_events_for_aggregate,method,"(aggregate_id:str) -> List[dict]",195-219,true,25,3,Get all events for an aggregate (invoice/expense/revenue).
      EventStore.get_events_by_type,method,"(event_type:str, limit:int=100) -> List[dict]",221-246,true,26,3,Get recent events of a specific type.
  src/api/cqrs/queries.py:
    functions[7]{name,kind,sig,loc,async,lines,cc,does}:
      get_query_handler,function,"(query_type:str, db:AsyncSession) -> QueryHandler",263-274,true,12,2,Factory function to get appropriate query handler.
      QueryHandler.__init__,method,"(db:AsyncSession) -> None",64-65,false,2,1,creates
      QueryHandler.execute,method,"(query:Query) -> Dict[str, Any]",68-70,true,3,1,Execute the query and return results.
      ExpenseQueryHandler.execute,method,"(query:GetExpensesQuery) -> Dict[str, Any]",76-139,true,64,16,Get expenses with optional filters.
      RevenueQueryHandler.execute,method,"(query:GetRevenuesQuery) -> Dict[str, Any]",145-203,true,59,14,Get revenues with optional filters.
      InvoiceHistoryQueryHandler.execute,method,"(query:GetInvoiceHistoryQuery) -> Dict[str, Any]",209-218,true,10,1,Get event history for an invoice.
      UnifiedInvoiceQueryHandler.execute,method,"(query:GetAllInvoicesQuery) -> Dict[str, Any]",224-260,true,37,3,Get all invoices from both expenses and revenues tables.
  src/integrations/accounting/fakturownia.py:
    functions[13]{name,kind,sig,loc,async,lines,cc,does}:
      FakturowniaClient.provider_name,method,() -> str,29-30,false,2,1,provider name
      FakturowniaClient.base_url,method,() -> str,33-35,false,3,1,base url
      FakturowniaClient._get_headers,method,"() -> Dict[str, str]",37-41,false,5,1,retrieves headers
      FakturowniaClient._get_params,method,"() -> Dict[str, Any]",43-47,false,5,1,Add API token to params
      FakturowniaClient.verify_connection,method,() -> bool,49-62,true,14,2,Verify Fakturownia connection
      FakturowniaClient.get_invoices,method,"(invoice_type:InvoiceType=None, date_from:date=None, date_to:date=None, status:InvoiceStatus=None, page:int=1, per_page:int=50) -> List[Invoice]",64-112,true,49,8,Fetch invoices from Fakturownia
      FakturowniaClient.get_invoice,method,"(invoice_id:str) -> Optional[Invoice]",114-132,true,19,3,Get single invoice
      FakturowniaClient.get_invoice_pdf,method,"(invoice_id:str) -> Optional[bytes]",134-150,true,17,3,Download invoice PDF
      FakturowniaClient.get_expense_invoices,method,"(date_from:date=None, date_to:date=None, page:int=1, per_page:int=50) -> List[Invoice]",152-192,true,41,6,Get expense documents from Fakturownia
      FakturowniaClient._parse_invoice,method,"(data:Dict) -> Invoice",194-239,false,46,6,Parse Fakturownia invoice response
      FakturowniaClient._parse_expense,method,"(data:Dict) -> Invoice",241-257,false,17,1,Parse Fakturownia expense response
      FakturowniaClient._map_status,method,"(status:str) -> InvoiceStatus",259-268,false,10,1,Map Fakturownia status
      FakturowniaClient._parse_date,method,"(date_str:str) -> Optional[date]",270-278,false,9,3,Parse date string
  src/integrations/accounting/base.py:
    functions[11]{name,kind,sig,loc,async,lines,cc,does}:
      InvoiceItem.__post_init__,method,() -> None,51-54,false,4,1,creates init
      Invoice.__post_init__,method,() -> None,100-102,false,3,2,creates init
      BaseAccountingClient.__init__,method,"(credentials:Dict[str,Any], settings:Dict[str,Any]=None) -> None",134-144,false,11,2,Initialize accounting client.
      BaseAccountingClient.provider_name,method,() -> str,148-150,false,3,1,Provider name identifier
      BaseAccountingClient.verify_connection,method,() -> bool,153-158,true,6,1,Verify that credentials work and connection is valid.
      BaseAccountingClient.get_invoices,method,"(invoice_type:InvoiceType=None, date_from:date=None, date_to:date=None, status:InvoiceStatus=None, page:int=1, per_page:int=50) -> List[Invoice]",161-184,true,24,1,Fetch invoices from accounting system.
      BaseAccountingClient.get_invoice,method,"(invoice_id:str) -> Optional[Invoice]",187-197,true,11,1,Get single invoice by ID.
      BaseAccountingClient.get_invoice_pdf,method,"(invoice_id:str) -> Optional[bytes]",200-210,true,11,1,Download invoice PDF.
      BaseAccountingClient.get_expense_invoices,method,"(date_from:date=None, date_to:date=None, page:int=1, per_page:int=50) -> List[Invoice]",212-226,true,15,1,Get purchase/expense invoices (for B+R tracking)
      BaseAccountingClient.get_documents,method,"(date_from:date=None, date_to:date=None, document_type:str=None) -> List[AccountingDocument]",228-256,true,29,4,"Get all accounting documents (invoices, receipts, etc.)"
      BaseAccountingClient.sync_invoices_to_br_system,method,"(date_from:date, date_to:date, project_id:str=None) -> Dict[str, Any]",258-339,true,82,6,Sync invoices from accounting system to B+R system.
  src/integrations/accounting/wfirma_infakt.py:
    functions[17]{name,kind,sig,loc,async,lines,cc,does}:
      WFirmaClient.provider_name,method,() -> str,31-32,false,2,1,provider name
      WFirmaClient._get_headers,method,"() -> Dict[str, str]",34-40,false,7,1,retrieves headers
      WFirmaClient.verify_connection,method,() -> bool,42-54,true,13,2,Verify wFirma connection
      WFirmaClient.get_invoices,method,"(invoice_type:InvoiceType=None, date_from:date=None, date_to:date=None, status:InvoiceStatus=None, page:int=1, per_page:int=50) -> List[Invoice]",56-116,true,61,9,Fetch invoices from wFirma
      WFirmaClient.get_invoice,method,"(invoice_id:str) -> Optional[Invoice]",118-135,true,18,3,Get single invoice
      WFirmaClient.get_invoice_pdf,method,"(invoice_id:str) -> Optional[bytes]",137-154,true,18,3,Download invoice PDF
      WFirmaClient._parse_invoice,method,"(data:Dict, invoice_type:InvoiceType) -> Invoice",156-188,false,33,2,Parse wFirma response
      WFirmaClient._parse_date,method,"(date_str:str) -> Optional[date]",190-197,false,8,3,parses date
      InFaktClient.provider_name,method,() -> str,211-212,false,2,1,provider name
      InFaktClient._get_headers,method,"() -> Dict[str, str]",214-218,false,5,1,retrieves headers
      InFaktClient.verify_connection,method,() -> bool,220-232,true,13,2,Verify InFakt connection
      InFaktClient.get_invoices,method,"(invoice_type:InvoiceType=None, date_from:date=None, date_to:date=None, status:InvoiceStatus=None, page:int=1, per_page:int=50) -> List[Invoice]",234-275,true,42,6,Fetch invoices from InFakt
      InFaktClient.get_invoice,method,"(invoice_id:str) -> Optional[Invoice]",277-294,true,18,3,Get single invoice
      InFaktClient.get_invoice_pdf,method,"(invoice_id:str) -> Optional[bytes]",296-312,true,17,3,Download invoice PDF
      InFaktClient._parse_invoice,method,"(data:Dict) -> Invoice",314-350,false,37,2,Parse InFakt response
      InFaktClient._map_status,method,"(status:str) -> InvoiceStatus",352-359,false,8,1,converts status
      InFaktClient._parse_date,method,"(date_str:str) -> Optional[date]",361-368,false,8,3,parses date
  src/integrations/accounting/ifirma.py:
    functions[9]{name,kind,sig,loc,async,lines,cc,does}:
      IFirmaClient.provider_name,method,() -> str,38-39,false,2,1,provider name
      IFirmaClient._get_auth_header,method,"(key_type:str='faktura') -> str",41-60,false,20,2,Generate HMAC authentication header for iFirma API.
      IFirmaClient.verify_connection,method,() -> bool,62-77,true,16,2,Verify iFirma connection
      IFirmaClient.get_invoices,method,"(invoice_type:InvoiceType=None, date_from:date=None, date_to:date=None, status:InvoiceStatus=None, page:int=1, per_page:int=50) -> List[Invoice]",79-127,true,49,8,Fetch invoices from iFirma
      IFirmaClient.get_invoice,method,"(invoice_id:str) -> Optional[Invoice]",129-149,true,21,3,Get single invoice
      IFirmaClient.get_invoice_pdf,method,"(invoice_id:str) -> Optional[bytes]",151-169,true,19,3,Download invoice PDF
      IFirmaClient._parse_invoice,method,"(data:Dict, invoice_type:InvoiceType) -> Invoice",171-205,false,35,2,Parse iFirma response to Invoice model
      IFirmaClient._map_status,method,"(status:str) -> InvoiceStatus",207-216,false,10,1,Map iFirma status to InvoiceStatus
      IFirmaClient._parse_date,method,"(date_str:str) -> Optional[date]",218-226,false,9,3,Parse date string
  src/integrations/config/database.py:
    functions[15]{name,kind,sig,loc,async,lines,cc,does}:
      get_config_db,function,() -> ConfigDatabase,459-464,false,6,2,Get or create config database instance
      IntegrationConfig.__repr__,method,() -> None,90-91,false,2,1,repr
      ConfigDatabase.__init__,method,"(db_type:DatabaseType=None, db_url:str=None, encryption_key:str=None) -> None",137-189,false,53,8,Initialize config database.
      ConfigDatabase.get_session,method,() -> Session,192-202,false,11,2,Get database session context manager
      ConfigDatabase.encrypt,method,"(data:str) -> str",204-206,false,3,1,Encrypt sensitive data
      ConfigDatabase.decrypt,method,"(encrypted_data:str) -> str",208-210,false,3,1,Decrypt sensitive data
      ConfigDatabase.save_integration,method,"(integration_id:str, provider:IntegrationProvider, integration_type:IntegrationType, credentials:Dict[str,Any]=None, settings:Dict[str,Any]=None, base_url:str=None, api_version:str=None) -> IntegrationConfig",216-254,false,39,6,Save or update integration configuration
      ConfigDatabase.get_integration,method,"(integration_id:str) -> Optional[Dict[str, Any]]",256-286,false,31,5,Get integration configuration with decrypted credentials
      ConfigDatabase.list_integrations,method,"(integration_type:IntegrationType=None, provider:IntegrationProvider=None, active_only:bool=True) -> List[Dict[str, Any]]",288-320,false,33,5,List integrations with optional filtering
      ConfigDatabase.delete_integration,method,"(integration_id:str) -> bool",322-330,false,9,2,Delete integration configuration
      ConfigDatabase.update_sync_status,method,"(integration_id:str, is_verified:bool=None, last_error:str=None) -> None",332-346,false,15,4,Update integration sync status
      ConfigDatabase.save_oauth_token,method,"(token_id:str, integration_id:str, access_token:str, refresh_token:str=None, expires_at:datetime=None, scope:str=None) -> None",352-374,false,23,3,Save OAuth token
      ConfigDatabase.get_oauth_token,method,"(token_id:str) -> Optional[Dict[str, Any]]",376-392,false,17,3,Get OAuth token with decrypted values
      ConfigDatabase.log_sync,method,"(integration_id:str, sync_type:str, status:str, items_processed:int=0, items_failed:int=0, details:Dict=None, error_message:str=None) -> int",398-422,false,25,3,Log synchronization activity
      ConfigDatabase.get_sync_logs,method,"(integration_id:str=None, limit:int=50) -> List[Dict]",424-452,false,29,3,Get sync logs
  src/integrations/cloud/dropbox_onedrive.py:
    functions[26]{name,kind,sig,loc,async,lines,cc,does}:
      DropboxClient.provider_name,method,() -> str,31-32,false,2,1,provider name
      DropboxClient._get_headers,method,"() -> Dict[str, str]",34-38,false,5,1,retrieves headers
      DropboxClient.verify_connection,method,() -> bool,40-52,true,13,2,Verify Dropbox connection
      DropboxClient.list_files,method,"(folder_path:str='/', recursive:bool=False) -> List[CloudFile]",54-97,true,44,6,List files in Dropbox folder
      DropboxClient.upload_file,method,"(local_path:str, remote_path:str, overwrite:bool=True) -> UploadResult",99-118,true,20,2,Upload file to Dropbox
      DropboxClient.upload_bytes,method,"(content:bytes, remote_path:str, filename:str, mime_type:str='application/octet-stream', overwrite:bool=True) -> UploadResult",120-170,true,51,5,Upload bytes to Dropbox
      DropboxClient.download_file,method,"(remote_path:str, local_path:str) -> bool",172-179,true,8,2,Download file from Dropbox
      DropboxClient.download_bytes,method,"(remote_path:str) -> Optional[bytes]",181-202,true,22,3,Download file content as bytes
      DropboxClient.delete_file,method,"(remote_path:str) -> bool",204-216,true,13,2,Delete file from Dropbox
      DropboxClient.create_folder,method,"(folder_path:str) -> bool",218-230,true,13,2,Create folder in Dropbox
      DropboxClient.get_file_info,method,"(remote_path:str) -> Optional[CloudFile]",232-259,true,28,4,Get file metadata
      DropboxClient._parse_datetime,method,"(dt_str:str) -> Optional[datetime]",261-267,false,7,3,parses datetime
      OneDriveClient.provider_name,method,() -> str,287-288,false,2,1,provider name
      OneDriveClient.drive_path,method,() -> str,291-295,false,5,2,drive path
      OneDriveClient._get_headers,method,"() -> Dict[str, str]",297-301,false,5,1,retrieves headers
      OneDriveClient.verify_connection,method,() -> bool,303-315,true,13,2,Verify OneDrive connection
      OneDriveClient.list_files,method,"(folder_path:str='/', recursive:bool=False) -> List[CloudFile]",317-360,true,44,6,List files in OneDrive folder
      OneDriveClient.upload_file,method,"(local_path:str, remote_path:str, overwrite:bool=True) -> UploadResult",362-381,true,20,2,Upload file to OneDrive
      OneDriveClient.upload_bytes,method,"(content:bytes, remote_path:str, filename:str, mime_type:str='application/octet-stream', overwrite:bool=True) -> UploadResult",383-403,true,21,3,Upload bytes to OneDrive
      OneDriveClient._simple_upload,method,"(path:str, content:bytes, overwrite:bool) -> UploadResult",405-444,true,40,4,Simple upload for files <= 4MB
      OneDriveClient.download_file,method,"(remote_path:str, local_path:str) -> bool",446-453,true,8,2,Download file from OneDrive
      OneDriveClient.download_bytes,method,"(remote_path:str) -> Optional[bytes]",455-474,true,20,3,Download file content as bytes
      OneDriveClient.delete_file,method,"(remote_path:str) -> bool",476-489,true,14,2,Delete file from OneDrive
      OneDriveClient.create_folder,method,"(folder_path:str) -> bool",491-522,true,32,5,Create folder in OneDrive
      OneDriveClient.get_file_info,method,"(remote_path:str) -> Optional[CloudFile]",524-554,true,31,3,Get file metadata
      OneDriveClient._parse_datetime,method,"(dt_str:str) -> Optional[datetime]",556-562,false,7,3,parses datetime
  src/integrations/cloud/base.py:
    functions[15]{name,kind,sig,loc,async,lines,cc,does}:
      BaseCloudStorageClient.__init__,method,"(credentials:Dict[str,Any], settings:Dict[str,Any]=None) -> None",54-64,false,11,2,Initialize cloud storage client.
      BaseCloudStorageClient.provider_name,method,() -> str,68-70,false,3,1,Provider name identifier
      BaseCloudStorageClient.verify_connection,method,() -> bool,73-75,true,3,1,Verify connection is working
      BaseCloudStorageClient.list_files,method,"(folder_path:str='/', recursive:bool=False) -> List[CloudFile]",78-84,true,7,1,List files in a folder
      BaseCloudStorageClient.upload_file,method,"(local_path:str, remote_path:str, overwrite:bool=True) -> UploadResult",87-94,true,8,1,Upload a file to cloud storage
      BaseCloudStorageClient.upload_bytes,method,"(content:bytes, remote_path:str, filename:str, mime_type:str='application/octet-stream', overwrite:bool=True) -> UploadResult",97-106,true,10,1,Upload bytes directly to cloud storage
      BaseCloudStorageClient.download_file,method,"(remote_path:str, local_path:str) -> bool",109-115,true,7,1,Download a file from cloud storage
      BaseCloudStorageClient.download_bytes,method,"(remote_path:str) -> Optional[bytes]",118-123,true,6,1,Download file content as bytes
      BaseCloudStorageClient.delete_file,method,"(remote_path:str) -> bool",126-128,true,3,1,Delete a file
      BaseCloudStorageClient.create_folder,method,"(folder_path:str) -> bool",131-133,true,3,1,Create a folder
      BaseCloudStorageClient.get_file_info,method,"(remote_path:str) -> Optional[CloudFile]",136-138,true,3,1,Get file metadata
      BaseCloudStorageClient.file_exists,method,"(remote_path:str) -> bool",140-143,true,4,1,Check if file exists
      BaseCloudStorageClient.ensure_folder_exists,method,"(folder_path:str) -> bool",145-149,true,5,2,Create folder if it doesn't exist
      BaseCloudStorageClient.upload_report,method,"(report_content:bytes, report_name:str, report_folder:str='/BR-Reports', year:int=None, month:int=None) -> UploadResult",151-218,true,68,7,Upload B+R report to cloud storage with organized structure.
      BaseCloudStorageClient.sync_invoices_folder,method,"(local_folder:str, remote_folder:str='/BR-Invoices') -> Dict[str, Any]",220-277,true,58,7,Sync local invoices folder to cloud.
  src/integrations/cloud/google_s3.py:
    functions[29]{name,kind,sig,loc,async,lines,cc,does}:
      GoogleDriveClient.provider_name,method,() -> str,36-37,false,2,1,provider name
      GoogleDriveClient._get_headers,method,"() -> Dict[str, str]",39-43,false,5,1,retrieves headers
      GoogleDriveClient._refresh_token_if_needed,method,() -> None,45-49,true,5,1,Refresh access token if expired
      GoogleDriveClient.verify_connection,method,() -> bool,51-64,true,14,2,Verify Google Drive connection
      GoogleDriveClient.list_files,method,"(folder_path:str='/', recursive:bool=False) -> List[CloudFile]",66-115,true,50,7,List files in Google Drive folder
      GoogleDriveClient.upload_file,method,"(local_path:str, remote_path:str, overwrite:bool=True) -> UploadResult",117-140,true,24,3,Upload file to Google Drive
      GoogleDriveClient.upload_bytes,method,"(content:bytes, remote_path:str, filename:str, mime_type:str='application/octet-stream', overwrite:bool=True) -> UploadResult",142-207,true,66,5,Upload bytes to Google Drive
      GoogleDriveClient.download_file,method,"(remote_path:str, local_path:str) -> bool",209-215,true,7,2,download file
      GoogleDriveClient.download_bytes,method,"(remote_path:str) -> Optional[bytes]",217-243,true,27,7,Download file by ID or path
      GoogleDriveClient.delete_file,method,"(remote_path:str) -> bool",245-259,true,15,3,deletes file
      GoogleDriveClient.create_folder,method,"(folder_path:str) -> bool",261-266,true,6,2,creates folder
      GoogleDriveClient.get_file_info,method,"(remote_path:str) -> Optional[CloudFile]",268-298,true,31,4,retrieves file info
      GoogleDriveClient._resolve_path_to_id,method,"(path:str) -> Optional[str]",300-315,true,16,6,Resolve path like /folder/subfolder/file to Google Drive ID
      GoogleDriveClient._find_file_by_name,method,"(name:str, parent_id:str) -> Optional[str]",317-337,true,21,4,Find file ID by name in parent folder
      GoogleDriveClient._ensure_folder_path,method,"(path:str) -> str",339-353,true,15,5,"Ensure folder path exists, create if needed, return final folder ID"
      GoogleDriveClient._create_folder,method,"(name:str, parent_id:str) -> str",355-374,true,20,2,Create a folder and return its ID
      GoogleDriveClient._update_file,method,"(file_id:str, content:bytes, mime_type:str) -> UploadResult",376-402,true,27,3,Update existing file content
      GoogleDriveClient._parse_datetime,method,"(dt_str:str) -> Optional[datetime]",404-410,false,7,3,parses datetime
      S3Client.provider_name,method,() -> str,428-429,false,2,2,provider name
      S3Client._get_client,method,() -> None,431-444,false,14,2,Get boto3 S3 client
      S3Client.verify_connection,method,() -> bool,446-454,true,9,2,Verify S3 connection
      S3Client.list_files,method,"(folder_path:str='/', recursive:bool=False) -> List[CloudFile]",456-501,true,46,6,List files in S3 bucket
      S3Client.upload_file,method,"(local_path:str, remote_path:str, overwrite:bool=True) -> UploadResult",503-528,true,26,3,Upload file to S3
      S3Client.upload_bytes,method,"(content:bytes, remote_path:str, filename:str, mime_type:str='application/octet-stream', overwrite:bool=True) -> UploadResult",530-562,true,33,2,Upload bytes to S3
      S3Client.download_file,method,"(remote_path:str, local_path:str) -> bool",564-573,true,10,2,download file
      S3Client.download_bytes,method,"(remote_path:str) -> Optional[bytes]",575-587,true,13,2,download bytes
      S3Client.delete_file,method,"(remote_path:str) -> bool",589-598,true,10,2,deletes file
      S3Client.create_folder,method,"(folder_path:str) -> bool",600-610,true,11,2,"S3 doesn't have real folders, but we can create a placeholder"
      S3Client.get_file_info,method,"(remote_path:str) -> Optional[CloudFile]",612-630,true,19,2,retrieves file info
  src/integrations/cloud/nextcloud.py:
    functions[13]{name,kind,sig,loc,async,lines,cc,does}:
      NextcloudClient.provider_name,method,() -> str,31-32,false,2,1,provider name
      NextcloudClient.webdav_url,method,() -> str,35-38,false,4,1,webdav url
      NextcloudClient._get_auth,method,() -> tuple,40-44,false,5,1,retrieves auth
      NextcloudClient.verify_connection,method,() -> bool,46-60,true,15,2,Verify Nextcloud connection
      NextcloudClient.list_files,method,"(folder_path:str='/', recursive:bool=False) -> List[CloudFile]",62-103,true,42,4,List files using PROPFIND
      NextcloudClient.upload_file,method,"(local_path:str, remote_path:str, overwrite:bool=True) -> UploadResult",105-125,true,21,2,Upload file to Nextcloud
      NextcloudClient.upload_bytes,method,"(content:bytes, remote_path:str, filename:str, mime_type:str='application/octet-stream', overwrite:bool=True) -> UploadResult",127-171,true,45,6,Upload bytes to Nextcloud
      NextcloudClient.download_file,method,"(remote_path:str, local_path:str) -> bool",173-184,true,12,2,Download file from Nextcloud
      NextcloudClient.download_bytes,method,"(remote_path:str) -> Optional[bytes]",186-207,true,22,3,Download file content as bytes
      NextcloudClient.delete_file,method,"(remote_path:str) -> bool",209-224,true,16,2,Delete file from Nextcloud
      NextcloudClient.create_folder,method,"(folder_path:str) -> bool",226-242,true,17,2,Create folder in Nextcloud
      NextcloudClient.get_file_info,method,"(remote_path:str) -> Optional[CloudFile]",244-278,true,35,4,Get file metadata
      NextcloudClient._parse_propfind_response,method,"(xml_text:str, base_path:str) -> List[CloudFile]",280-349,false,70,14,Parse WebDAV PROPFIND response
  web/static/js/app.js:
    functions[148]{name,kind,sig,loc,async,lines,cc,does}:
      getPageFromUrl,function,() -> None,11-14,false,4,1,retrieves page from url
      getUrlParam,function,(key) -> None,16-19,false,4,1,retrieves url param
      setUrlParam,function,"(key, value) -> None",21-34,false,14,1,updates url param
      setPageInUrl,function,(page) -> None,36-38,false,3,1,updates page in url
      navigateTo,function,(page) -> None,40-67,false,28,1,navigate to
      apiCall,function,(endpoint) -> None,70-82,true,13,1,api call
      getDashboardLayout,function,() -> None,113-116,false,4,1,retrieves dashboard layout
      saveDashboardLayout,function,() -> None,118-120,false,3,1,caches dashboard layout
      toggleDashboardConfig,function,() -> None,122-126,false,5,1,toggle dashboard config
      updateModuleSelect,function,() -> None,128-133,false,6,1,updates module select
      addDashboardModule,function,(moduleId) -> None,135-140,false,6,1,creates dashboard module
      removeDashboardModule,function,(moduleId) -> None,142-146,false,5,1,deletes dashboard module
      resetDashboardConfig,function,() -> None,148-153,false,6,1,reset dashboard config
      renderDashboard,function,() -> None,155-180,false,26,1,formats dashboard
      loadDashboard,function,() -> None,182-185,true,4,1,retrieves dashboard
      loadDashboardModules,function,() -> None,187-226,true,40,1,retrieves dashboard modules
      loadRecentDocsModule,function,(container) -> None,228-242,true,15,1,retrieves recent docs module
      loadCategoryModule,function,"(container, summary) -> None",244-251,false,8,1,retrieves category module
      loadTopVendorsModule,function,(container) -> None,253-267,true,15,1,retrieves top vendors module
      loadTimesheetModule,function,(container) -> None,269-274,true,6,1,retrieves timesheet module
      loadGitActivityModule,function,(container) -> None,276-279,true,4,1,retrieves git activity module
      loadMonthlyTrendModule,function,(container) -> None,281-298,true,18,1,retrieves monthly trend module
      setupUploadListeners,function,() -> None,301-313,false,13,1,initializes upload listeners
      handleFiles,function,(files) -> None,315-315,false,1,1,handles files
      uploadFile,function,(file) -> None,317-345,true,29,1,upload file
      pollDocumentStatus,function,"(docId, itemId) -> None",347-362,true,16,1,poll document status
      loadRecentDocuments,function,() -> None,364-385,true,22,1,retrieves recent documents
      getDocTypeName,function,(type) -> None,387-390,false,4,1,retrieves doc type name
      deleteDocument,function,(docId) -> None,392-401,true,10,1,deletes document
      retryOcr,function,(docId) -> None,403-409,true,7,1,retry ocr
      showDocumentDetail,function,(docId) -> None,413-484,true,72,1,show document detail
      getFieldLabel,function,(field) -> None,486-498,false,13,1,retrieves field label
      toggleEditMode,function,() -> None,500-508,false,9,1,toggle edit mode
      saveExtractedData,function,(docId) -> None,510-532,true,23,1,caches extracted data
      createExpenseFromDoc,function,(docId) -> None,534-573,true,40,1,creates expense from doc
      closeDocumentModal,function,() -> None,575-581,false,7,1,stops document modal
      approveDocument,function,(docId) -> None,583-590,true,8,1,approve document
      loadProjects,function,() -> None,595-638,true,44,1,retrieves projects
      showCreateProjectModal,function,() -> None,640-647,false,8,1,show create project modal
      createProject,function,"(name, description, fiscalYear) -> None",649-658,true,10,1,creates project
      editProject,function,(id) -> None,660-676,true,17,1,updates project
      deleteProject,function,(id) -> None,678-687,true,10,1,deletes project
      viewProjectExpenses,function,(projectId) -> None,689-695,false,7,1,view project expenses
      loadProjectsForFilter,function,() -> None,698-716,true,19,1,retrieves projects for filter
      getProjectName,function,(projectId) -> None,718-721,false,4,1,retrieves project name
      loadExpenses,function,() -> None,726-837,true,112,1,retrieves expenses
      classifyRevenue,function,"(revenueId, ipQualified) -> None",839-850,true,12,1,classify revenue
      showRevenueDetails,function,(revenueId) -> None,852-855,true,4,1,show revenue details
      deleteRevenue,function,(revenueId) -> None,857-860,true,4,1,deletes revenue
      convertToRevenue,function,(expenseId) -> None,862-880,true,19,1,converts to revenue
      convertToExpense,function,(revenueId) -> None,882-900,true,19,1,converts to expense
      toggleExpenseSelection,function,"(id, checked) -> None",903-910,false,8,1,toggle expense selection
      toggleSelectAll,function,(checkbox) -> None,912-923,false,12,1,toggle select all
      updateBulkActionsBar,function,() -> None,925-934,false,10,1,updates bulk actions bar
      clearSelection,function,() -> None,936-941,false,6,1,deletes selection
      bulkAssignToProject,function,() -> None,943-968,true,26,1,bulk assign to project
      showExpenseDetails,function,(id) -> None,970-1003,true,34,1,show expense details
      classifyExpense,function,(id) -> None,1005-1015,true,11,1,classify expense
      reclassifyWithLLM,function,(id) -> None,1017-1020,true,4,1,reclassify with llm
      loadReports,function,() -> None,1023-1085,true,63,1,retrieves reports
      loadMonthlyDetails,function,(year) -> None,1087-1138,true,52,1,retrieves monthly details
      viewMonthExpenses,function,"(year, month) -> None",1140-1157,false,18,1,view month expenses
      showMonthDetails,function,"(year, month) -> None",1159-1228,true,70,1,show month details
      regenerateMonthReport,function,"(year, month) -> None",1230-1242,true,13,1,regenerate month report
      regenerateAllMonthlyReports,function,() -> None,1244-1263,true,20,1,regenerate all monthly reports
      generateMonthlyReport,function,() -> None,1265-1271,true,7,1,creates monthly report
      generateAllReports,function,() -> None,1273-1279,true,7,1,creates all reports
      loadClarifications,function,() -> None,1282-1295,true,14,1,retrieves clarifications
      answerClarification,function,(id) -> None,1297-1302,true,6,1,answer clarification
      saveProjectSettings,function,() -> None,1307-1312,false,6,1,caches project settings
      formatCurrency,function,(amount) -> None,1315-1315,false,1,1,formats currency
      formatCurrencyWithCode,function,(amount) -> None,1316-1323,false,8,1,formats currency with code
      getStatusLabel,function,(s) -> None,1324-1324,false,1,1,retrieves status label
      getCategoryName,function,(c) -> None,1325-1325,false,1,1,retrieves category name
      showToast,function,(msg) -> None,1326-1326,false,1,1,show toast
      changeExpenseStatus,function,"(id, status) -> None",1329-1334,true,6,1,updates expense status
      saveExpenseStatus,function,(id) -> None,1336-1344,true,9,1,caches expense status
      deleteExpense,function,(id) -> None,1346-1354,true,9,1,deletes expense
      checkDuplicates,function,(docId) -> None,1357-1387,true,31,1,checks duplicates
      reExtractData,function,(docId) -> None,1389-1400,true,12,1,re extract data
      generateExpenseDoc,function,(expenseId) -> None,1403-1420,true,18,1,creates expense doc
      generateProjectSummary,function,(projectId) -> None,1422-1440,true,19,1,creates project summary
      regenerateAllReports,function,() -> None,1442-1473,true,32,1,regenerate all reports
      viewProjectDocs,function,(projectId) -> None,1476-1517,true,42,1,view project docs
      viewDocContent,function,"(projectId, filename) -> None",1519-1547,true,29,1,view doc content
      renderMarkdown,function,(md) -> None,1550-1552,false,3,1,formats markdown
      copyDocToClipboard,function,() -> None,1556-1567,false,12,1,copy doc to clipboard
      downloadDocFile,function,() -> None,1569-1584,false,16,1,download doc file
      downloadPdf,function,"(projectId, filename) -> None",1586-1589,false,4,1,download pdf
      viewDocHistory,function,"(projectId, filename) -> None",1591-1623,true,33,1,view doc history
      viewDocVersion,function,"(projectId, filename, commit) -> None",1625-1643,true,19,1,view doc version
      compareDocs,function,"(projectId, filename, oldCommit) -> None",1645-1705,true,61,1,compare docs
      escapeHtml,function,(text) -> None,1707-1711,false,5,1,escape html
      printDoc,function,() -> None,1713-1743,false,31,1,logs doc
      closeDocsModal,function,() -> None,1745-1747,false,3,1,stops docs modal
      initTimesheet,function,() -> None,1772-1793,true,22,1,creates timesheet
      loadWorkers,function,() -> None,1795-1804,true,10,1,retrieves workers
      loadContractors,function,() -> None,1806-1824,true,19,1,retrieves contractors
      loadTimesheet,function,() -> None,1826-1928,true,103,1,retrieves timesheet
      toggleTimesheetBlock,function,(checkbox) -> None,1930-1975,true,46,1,toggle timesheet block
      updateTimesheetCell,function,(input) -> None,1977-1990,false,14,1,updates timesheet cell
      saveTimesheet,function,() -> None,1992-2028,true,37,1,caches timesheet
      updateTimesheetSummary,function,"(year, month) -> None",2030-2055,true,26,1,updates timesheet summary
      showAddWorkerModal,function,() -> None,2057-2066,false,10,1,show add worker modal
      createWorker,function,"(name, role, hourlyRate) -> None",2068-2079,true,12,1,creates worker
      loadIntegrations,function,() -> None,2181-2213,true,33,1,retrieves integrations
      renderIntegrationCard,function,(integration) -> None,2215-2240,false,26,1,formats integration card
      loadSyncLogs,function,() -> None,2242-2269,true,28,1,retrieves sync logs
      showAddIntegrationModal,function,() -> None,2271-2280,false,10,1,show add integration modal
      closeIntegrationModal,function,() -> None,2282-2284,false,3,1,stops integration modal
      updateProviderOptions,function,() -> None,2286-2299,false,14,1,updates provider options
      updateCredentialFields,function,() -> None,2301-2319,false,19,1,updates credential fields
      saveIntegration,function,(event) -> None,2321-2356,true,36,1,caches integration
      verifyIntegration,function,(id) -> None,2358-2373,true,16,1,validates integration
      syncInvoices,function,(integrationId) -> None,2375-2391,true,17,1,sync invoices
      syncAllInvoices,function,() -> None,2393-2409,true,17,1,sync all invoices
      uploadReport,function,(integrationId) -> None,2411-2435,true,25,1,upload report
      uploadAllReports,function,() -> None,2437-2452,true,16,1,upload all reports
      deleteIntegration,function,(id) -> None,2454-2464,true,11,1,deletes integration
      loadAIConfig,function,() -> None,2467-2504,true,38,1,retrieves ai config
      loadOCREngines,function,() -> None,2506-2527,true,22,1,retrieves ocr engines
      loadDocumentTypes,function,() -> None,2529-2547,true,19,1,retrieves document types
      saveAIConfig,function,() -> None,2549-2576,true,28,1,caches ai config
      testConnections,function,() -> None,2578-2603,true,26,1,checks connections
      updateModelList,function,() -> None,2605-2632,false,28,1,updates model list
      initLogStreams,function,() -> None,2638-2642,false,5,1,creates log streams
      startLogStreamForPage,function,(service) -> None,2644-2683,false,40,1,starts log stream for page
      switchLogTab,function,(service) -> None,2685-2699,false,15,1,switch log tab
      copyLogs,function,(service) -> None,2701-2713,false,13,1,copy logs
      clearAllLogs,function,() -> None,2715-2720,false,6,1,deletes all logs
      reconnectAllLogs,function,() -> None,2722-2731,false,10,1,reconnect all logs
      stopAllLogStreams,function,() -> None,2733-2740,false,8,1,stops all log streams
      isGlobalLogsOpen,function,() -> None,2743-2746,false,4,1,is global logs open
      toggleGlobalLogs,function,() -> None,2748-2763,false,16,1,toggle global logs
      switchGlobalLogTab,function,(service) -> None,2765-2775,false,11,1,switch global log tab
      clearGlobalLogs,function,() -> None,2777-2782,false,6,1,deletes global logs
      startLogStreamFor,function,(service) -> None,2785-2823,false,39,1,starts log stream for
      initGitTimesheet,function,() -> None,2888-2902,true,15,1,creates git timesheet
      scanGitRepos,function,() -> None,2904-2955,true,52,1,scan git repos
      displayGitAuthors,function,(authors) -> None,2957-2990,false,34,1,logs git authors
      toggleGitAuthor,function,(authorName) -> None,2992-2999,false,8,1,toggle git author
      selectAllGitAuthors,function,(select) -> None,3001-3010,false,10,1,retrieves all git authors
      displayGitRepoMapping,function,() -> None,3012-3084,true,73,1,logs git repo mapping
      selectAllReposForProject,function,(projectId) -> None,3086-3116,false,31,1,retrieves all repos for project
      updateGitProjectMapping,function,"(repoPath, projectId) -> None",3118-3121,false,4,1,updates git project mapping
      checkGitTimesheetReady,function,() -> None,3123-3129,false,7,1,checks git timesheet ready
      loadGitCommits,function,() -> None,3131-3207,true,77,1,retrieves git commits
      generateGitTimesheet,function,() -> None,3209-3289,true,81,1,creates git timesheet
  brgenerator/tests/conftest.py:
    functions[4]{name,kind,sig,loc,async,lines,cc,does}:
      env_setup,function,(monkeypatch) -> None,10-15,false,6,1,Set up test environment variables.
      mock_llm_client,function,() -> None,19-44,false,26,1,Mock LLM client for testing without API calls.
      temp_output_dir,function,(tmp_path) -> None,48-52,false,5,1,Create temporary output directory.
      sample_yaml_form,function,() -> None,56-116,false,61,1,Sample YAML form content.
  brgenerator/tests/test_validators.py:
    functions[16]{name,kind,sig,loc,async,lines,cc,does}:
      validation_config,function,() -> None,38-40,false,3,1,Default validation config.
      sample_project_input,function,() -> None,44-121,false,78,1,Sample project input for testing.
      valid_document,function,() -> None,125-206,false,82,1,Sample valid markdown document.
      TestStructureValidator.test_valid_document_passes,method,"(validation_config, valid_document, sample_project_input) -> None",212-225,false,14,1,Valid document should pass structure validation.
      TestStructureValidator.test_missing_sections_fails,method,"(validation_config, sample_project_input) -> None",227-245,false,19,1,Document missing required sections should fail.
      TestStructureValidator.test_empty_document_fails,method,"(validation_config, sample_project_input) -> None",247-258,false,12,1,Empty document should fail validation.
      TestLegalComplianceValidator.test_valid_document_passes,method,"(validation_config, valid_document, sample_project_input) -> None",264-276,false,13,1,Document with all BR criteria should pass.
      TestLegalComplianceValidator.test_missing_keywords_fails,method,"(validation_config, sample_project_input) -> None",278-301,false,24,3,Document missing BR keywords should fail.
      TestLegalComplianceValidator.test_nip_validation,method,"(validation_config, sample_project_input) -> None",303-324,false,22,3,Valid NIP should be detected.
      TestFinancialValidator.test_valid_costs_pass,method,"(validation_config, valid_document, sample_project_input) -> None",330-341,false,12,1,Document with correct cost calculations should pass.
      TestFinancialValidator.test_missing_costs_fails,method,"(validation_config, sample_project_input) -> None",343-364,false,22,2,Document without cost amounts should trigger warnings.
      TestNIPValidation.test_valid_nips,method,() -> None,370-382,false,13,2,Valid NIPs should pass checksum.
      TestNIPValidation.test_invalid_nips,method,() -> None,384-396,false,13,2,Invalid NIPs should fail checksum.
      TestProjectCostsCalculation.test_personnel_cost_calculation,method,() -> None,402-416,false,15,1,Personnel costs should calculate correctly.
      TestProjectCostsCalculation.test_material_cost_calculation,method,() -> None,418-428,false,11,1,Material costs should calculate correctly.
      TestProjectCostsCalculation.test_total_costs_aggregation,method,(sample_project_input) -> None,430-446,false,17,1,Total costs should aggregate correctly.
  brgenerator/tests/test_e2e.py:
    functions[12]{name,kind,sig,loc,async,lines,cc,does}:
      TestFormGeneratorE2E.test_generate_and_load_form,method,() -> None,47-75,false,29,1,"Test generating a form, saving it, and loading it back."
      TestFormGeneratorE2E.test_form_validation,method,() -> None,77-121,false,45,1,Test form validation catches errors.
      TestValidationPipelineE2E.sample_project,method,() -> None,128-186,false,59,1,Create sample project for testing.
      TestValidationPipelineE2E.sample_document,method,() -> None,189-236,false,48,1,Sample markdown document for testing.
      TestValidationPipelineE2E.test_validation_pipeline_runs,method,"(sample_project, sample_document) -> None",238-261,false,24,1,Test that validation pipeline runs without errors.
      TestValidationPipelineE2E.test_validation_detects_issues,method,(sample_project) -> None,263-287,false,25,2,Test that validation detects issues in poor document.
      TestCLICommands.test_generate_form_command,method,() -> None,293-309,false,17,1,Test that generate-form command works.
      TestCLICommands.test_info_command,method,() -> None,311-324,false,14,1,Test that info command works.
      TestPDFRendering.test_pdf_renderer_initialization,method,() -> None,330-338,false,9,1,Test that PDF renderer can be initialized.
      TestPDFRendering.test_render_simple_markdown,method,() -> None,340-368,false,29,1,Test rendering simple markdown to PDF.
      TestCostCalculations.test_personnel_employment_costs,method,() -> None,374-390,false,17,1,Test personnel employment cost calculations.
      TestCostCalculations.test_project_costs_aggregation,method,() -> None,392-433,false,42,1,Test aggregation of all project costs.
  brgenerator/src/br_doc_generator/config.py:
    functions[8]{name,kind,sig,loc,async,lines,cc,does}:
      load_config,function,"(env_file:Optional[str]=None) -> AppConfig",255-257,false,3,1,Load application configuration.
      get_config,function,() -> AppConfig,264-269,false,6,2,Get global configuration instance.
      LLMConfig.get_litellm_params,method,() -> dict,89-111,false,23,3,Get parameters for LiteLLM call.
      ValidationConfig.parse_levels,method,(v) -> None,136-139,false,4,3,parses levels
      PDFConfig.validate_logo_path,method,(v) -> None,160-165,false,6,5,validates logo path
      OutputConfig.ensure_output_dir,method,(v) -> None,182-185,false,4,2,ensure output dir
      LogConfig.ensure_log_dir,method,(v) -> None,202-205,false,4,2,ensure log dir
      AppConfig.from_env,method,"(env_file:Optional[str]=None) -> \"AppConfig\"",239-252,false,14,3,Load configuration from environment file.
  brgenerator/src/br_doc_generator/cli.py:
    functions[8]{name,kind,sig,loc,async,lines,cc,does}:
      get_config,function,() -> None,31-34,false,4,1,Load configuration from environment.
      generate_form,function,"(output:str=typer.Option('project_form.yaml', '--output', '-o', help='cieka do pliku wyjciowego formularza YAML'), project_name:Optional[str]=typer.Option(None, '--name', '-n', help='Nazwa projektu do wstpnego wypenienia'), fiscal_year:Optional[int]=typer.Option(None, '--year', '-y', help='Rok podatkowy')) -> None",38-80,false,43,3,Generuj pusty formularz YAML do wypenienia.
      generate,function,"(input_file:str=typer.Option(..., '--input', '-i', help='cieka do formularza YAML'), output_dir:str=typer.Option('./output', '--output', '-o', help='Katalog wyjciowy'), format:str=typer.Option('both', '--format', '-f', help='Format wyjciowy: pdf, md, both'), validation_levels:Optional[str]=typer.Option(None, '--validation', '-v', help='Poziomy walidacji (oddzielone przecinkami): structure,content,legal,financial'), max_iterations:int=typer.Option(3, '--max-iter', help='Maksymalna liczba iteracji poprawek')) -> None",84-200,false,117,14,Generuj dokumentacj B+R z formularza YAML.
      validate,function,"(input_file:str=typer.Option(..., '--input', '-i', help='cieka do dokumentacji markdown'), report:str=typer.Option('validation_report.yaml', '--report', '-r', help='cieka do raportu walidacji'), levels:Optional[str]=typer.Option('structure,content,legal,financial', '--levels', '-l', help='Poziomy walidacji do uruchomienia')) -> None",204-390,false,187,14,Waliduj istniejc dokumentacj B+R.
      render,function,"(input_file:str=typer.Option(..., '--input', '-i', help='cieka do dokumentacji markdown'), output:str=typer.Option('documentation.pdf', '--output', '-o', help='cieka do pliku PDF wyjciowego'), template:str=typer.Option('professional', '--template', '-t', help='Szablon PDF: professional, minimal, detailed'), logo:Optional[str]=typer.Option(None, '--logo', help='cieka do logo firmy'), company_name:Optional[str]=typer.Option(None, '--company', help='Nazwa firmy (do nagwka/stopki)')) -> None",394-469,false,76,4,Renderuj dokumentacj markdown do PDF.
      info,function,() -> None,473-507,false,35,4,Poka informacje o konfiguracji i stanie systemu.
      web_server,function,"(host:str=typer.Option('0.0.0.0', '--host', '-h', help='Host do nasuchiwania'), port:int=typer.Option(8000, '--port', '-p', help='Port do nasuchiwania'), reload:bool=typer.Option(False, '--reload', '-r', help='Automatyczne przeadowanie przy zmianach')) -> None",511-552,false,42,3,Uruchom serwer web z interfejsem graficznym.
      main,function,() -> None,555-557,false,3,1,Entry point for CLI.
  brgenerator/src/br_doc_generator/__init__.py:
    functions[6]{name,kind,sig,loc,async,lines,cc,does}:
      BRDocumentationPipeline.__init__,method,"(config:AppConfig) -> None",88-104,false,17,1,Initialize pipeline with configuration.
      BRDocumentationPipeline.from_env,method,"(env_path:str='.env') -> \"BRDocumentationPipeline\"",107-118,false,12,1,Create pipeline from environment configuration.
      BRDocumentationPipeline.generate,method,"(form_path:str, output_dir:str='./output', validation_levels:list=None, max_iterations:int=3, output_format:str='pdf') -> PipelineResult",120-204,true,85,5,Generate B+R documentation from YAML form.
      BRDocumentationPipeline._form_to_project_input,method,"(form_data:dict) -> ProjectInput",206-313,false,108,6,Convert form data dictionary to ProjectInput model.
      BRDocumentationPipeline.load_form,method,"(form_path:str) -> dict",315-317,false,3,1,Load YAML form file.
      BRDocumentationPipeline.save_validation_report,method,"(result:PipelineResult, output_path:str) -> None",319-352,false,34,3,Save validation report to YAML file.
  brgenerator/src/br_doc_generator/web.py:
    functions[7]{name,kind,sig,loc,async,lines,cc,does}:
      root,function,() -> None,102-344,true,243,1,Serve the main web interface.
      health_check,function,() -> None,348-354,true,7,1,Health check endpoint.
      get_config,function,() -> None,358-365,true,8,3,Get current configuration.
      generate_form,function,"(request:FormGenerationRequest) -> None",369-376,true,8,1,Generate a new YAML form.
      validate_document,function,"(request:ValidationRequest) -> None",380-444,true,65,4,Validate documentation.
      render_pdf,function,"(request:PDFRenderRequest) -> None",454-468,true,15,1,Render markdown to PDF.
      run_server,function,"(host:str='0.0.0.0', port:int=8000, reload:bool=False) -> None",475-483,false,9,1,Run the web server.
  brgenerator/src/br_doc_generator/llm_client.py:
    functions[10]{name,kind,sig,loc,async,lines,cc,does}:
      get_llm_client,function,"(config:Optional[LLMConfig]=None) -> LLMClient",327-332,false,6,3,Get or create LLM client instance.
      LLMClient.__init__,method,"(config:Optional[LLMConfig]=None) -> None",38-41,false,4,2,Initialize LLM client with configuration.
      LLMClient._ensure_connection,method,() -> None,43-65,true,23,3,Verify connection to LLM provider.
      LLMClient._get_model_name,method,() -> str,67-76,false,10,3,Get model name based on provider.
      LLMClient._get_api_params,method,"() -> dict[str, Any]",78-94,false,17,3,Get API parameters for LiteLLM.
      LLMClient._call_llm,method,"(messages:list[dict[str,str]], max_tokens:Optional[int]=None, temperature:Optional[float]=None) -> LLMResponse",96-139,true,44,7,Make async call to LLM.
      LLMClient.generate,method,"(prompt:str, system_prompt:Optional[str]=None, max_tokens:Optional[int]=None, temperature:Optional[float]=None) -> str",141-173,true,33,2,Generate text from prompt.
      LLMClient.generate_structured,method,"(prompt:str, system_prompt:Optional[str]=None, output_schema:Optional[dict]=None) -> dict[str, Any]",175-219,true,45,6,Generate structured JSON response.
      LLMClient.validate_content,method,"(content:str, validation_criteria:list[str], context:Optional[str]=None) -> dict[str, Any]",221-272,true,52,3,Validate content against criteria using LLM.
      LLMClient.improve_content,method,"(content:str, issues:list[dict[str,str]], instructions:Optional[str]=None) -> str",274-320,true,47,3,Improve content based on identified issues.
  brgenerator/src/br_doc_generator/models.py:
    functions[18]{name,kind,sig,loc,async,lines,cc,does}:
      CompanyInfo.validate_nip,method,"(v:str) -> str",76-82,false,7,3,Validate NIP checksum.
      ProjectTimeline.validate_dates,method,"() -> \"ProjectTimeline\"",112-115,false,4,2,validates dates
      MethodologyInfo.validate_br_criteria,method,"() -> \"MethodologyInfo\"",191-198,false,8,2,Validate that B+R criteria are met.
      PersonnelEmploymentCost.total_cost,method,() -> Decimal,219-221,false,3,1,Calculate total qualified cost.
      PersonnelEmploymentCost.deduction_amount,method,() -> Decimal,224-226,false,3,1,Calculate deduction amount (200% for employees).
      PersonnelCivilCost.deduction_amount,method,() -> Decimal,241-243,false,3,1,Calculate deduction amount (200% for civil contracts).
      MaterialCost.deduction_amount,method,() -> Decimal,256-258,false,3,1,Calculate deduction amount (100% for materials/equipment).
      ExternalServiceCost.deduction_amount,method,() -> Decimal,273-275,false,3,1,Calculate deduction amount.
      ProjectCosts.total_personnel_employment,method,() -> Decimal,286-287,false,2,2,total personnel employment
      ProjectCosts.total_personnel_civil,method,() -> Decimal,290-291,false,2,2,total personnel civil
      ProjectCosts.total_materials,method,() -> Decimal,294-295,false,2,2,total materials
      ProjectCosts.total_external_services,method,() -> Decimal,298-299,false,2,2,total external services
      ProjectCosts.total_costs,method,() -> Decimal,302-308,false,7,1,total costs
      ProjectCosts.total_deduction,method,() -> Decimal,311-321,false,11,5,Calculate total B+R deduction amount.
      ValidationResult.has_critical_issues,method,() -> bool,414-415,false,2,2,has critical issues
      ValidationResult.has_errors,method,() -> bool,418-422,false,5,2,has errors
      PipelineResult.to_yaml,method,() -> str,436-443,false,8,1,Export result as YAML.
      PipelineResult.save_validation_report,method,"(path:Path) -> None",445-447,false,3,1,Save validation report to file.
  brgenerator/src/br_doc_generator/validators/content.py:
    functions[7]{name,kind,sig,loc,async,lines,cc,does}:
      ContentValidator.stage_name,method,() -> str,30-31,false,2,1,stage name
      ContentValidator.validation_criteria,method,"() -> list[str]",34-44,false,11,1,validation criteria
      ContentValidator.validate,method,"(context:ValidationContext) -> ValidationResult",46-79,true,34,2,Validate content quality using LLM.
      ContentValidator._llm_validate,method,"(context:ValidationContext) -> list",81-127,true,47,3,Use LLM to validate content quality.
      ContentValidator._build_project_context,method,(project_input) -> str,129-139,false,11,1,Build context string from project input.
      ContentValidator._check_data_consistency,method,"(context:ValidationContext) -> list",141-199,false,59,7,Check consistency between document and project input.
      ContentValidator._get_correction_instructions,method,() -> str,201-208,false,8,1,retrieves correction instructions
  brgenerator/src/br_doc_generator/validators/base.py:
    functions[14]{name,kind,sig,loc,async,lines,cc,does}:
      ValidationContext.add_result,method,"(result:ValidationResult) -> None",39-41,false,3,1,Add validation result to context.
      ValidationContext.has_critical_issues,method,() -> bool,44-46,false,3,2,Check if any previous result has critical issues.
      ValidationContext.overall_score,method,() -> float,49-53,false,5,3,Calculate overall quality score.
      BaseValidator.__init__,method,"(use_llm:bool=True) -> None",64-72,false,9,1,Initialize validator.
      BaseValidator.stage_name,method,() -> str,76-78,false,3,1,Name of this validation stage.
      BaseValidator.validation_criteria,method,"() -> list[str]",82-84,false,3,1,List of criteria this validator checks.
      BaseValidator.get_llm_client,method,() -> None,86-91,true,6,2,Get LLM client for validation.
      BaseValidator.validate,method,"(context:ValidationContext) -> ValidationResult",94-104,true,11,1,Perform validation on the content.
      BaseValidator.auto_correct,method,"(context:ValidationContext, issues:list[ValidationIssue]) -> tuple[str, list[CorrectionApplied]]",106-160,true,55,9,Attempt to auto-correct identified issues.
      BaseValidator._get_correction_instructions,method,() -> str,162-164,false,3,1,Get stage-specific correction instructions.
      BaseValidator.create_result,method,"(status:ValidationStatus, score:float, issues:list[ValidationIssue], corrections:Optional[list[CorrectionApplied]]=None, metadata:Optional[dict]=None) -> ValidationResult",166-183,false,18,3,Create validation result.
      BaseValidator.create_issue,method,"(issue_type:str, severity:IssueSeverity, location:str, message:str, suggestion:Optional[str]=None) -> ValidationIssue",185-200,false,16,1,Helper to create validation issue.
      BaseValidator.calculate_score_from_issues,method,"(issues:list[ValidationIssue]) -> float",203-217,false,15,3,Calculate quality score based on issues.
      BaseValidator.determine_status,method,"(score:float, issues:list[ValidationIssue]) -> ValidationStatus",220-229,false,10,5,Determine validation status from score and issues.
  brgenerator/src/br_doc_generator/validators/structure.py:
    functions[10]{name,kind,sig,loc,async,lines,cc,does}:
      StructureValidator.stage_name,method,() -> str,77-78,false,2,1,stage name
      StructureValidator.validation_criteria,method,"() -> list[str]",81-89,false,9,1,validation criteria
      StructureValidator.validate,method,"(context:ValidationContext) -> ValidationResult",91-144,true,54,2,Validate document structure.
      StructureValidator._has_title,method,"(content:str) -> bool",146-152,false,7,4,Check if document has H1 title.
      StructureValidator._check_required_sections,method,"(content:str) -> list",154-178,false,25,6,Check for required sections.
      StructureValidator._check_heading_hierarchy,method,"(content:str) -> list",180-204,false,25,5,Check heading level hierarchy.
      StructureValidator._check_section_lengths,method,"(content:str) -> list",206-228,false,23,7,Check minimum content length per section.
      StructureValidator._check_markdown_syntax,method,"(content:str) -> list",230-267,false,38,4,Check for common markdown syntax issues.
      StructureValidator._count_sections,method,"(content:str) -> int",269-271,false,3,1,Count number of sections (H2 headings).
      StructureValidator._get_correction_instructions,method,() -> str,273-279,false,7,1,retrieves correction instructions
  brgenerator/src/br_doc_generator/validators/financial.py:
    functions[9]{name,kind,sig,loc,async,lines,cc,does}:
      FinancialValidator.stage_name,method,() -> str,45-46,false,2,1,stage name
      FinancialValidator.validation_criteria,method,"() -> list[str]",49-57,false,9,1,validation criteria
      FinancialValidator.validate,method,"(context:ValidationContext) -> ValidationResult",59-104,true,46,1,Validate financial calculations.
      FinancialValidator._validate_cost_totals,method,(costs) -> list,106-137,false,32,3,Validate that cost totals are correct.
      FinancialValidator._validate_deductions,method,(costs) -> list,139-167,false,29,5,Validate deduction calculations.
      FinancialValidator._check_document_amounts,method,"(content:str, costs) -> list",169-213,false,45,11,Check if amounts in document match project costs.
      FinancialValidator._amount_in_document,method,"(target:float, found_amounts:set, tolerance:float=1.0) -> bool",215-220,false,6,3,Check if amount appears in document (with tolerance).
      FinancialValidator._check_personnel_allocations,method,(costs) -> list,222-256,false,35,5,Check personnel time allocation percentages.
      FinancialValidator._get_correction_instructions,method,() -> str,258-265,false,8,1,retrieves correction instructions
  brgenerator/src/br_doc_generator/validators/legal.py:
    functions[11]{name,kind,sig,loc,async,lines,cc,does}:
      LegalComplianceValidator.stage_name,method,() -> str,64-65,false,2,1,stage name
      LegalComplianceValidator.validation_criteria,method,"() -> list[str]",68-77,false,10,1,validation criteria
      LegalComplianceValidator.validate,method,"(context:ValidationContext) -> ValidationResult",79-126,true,48,2,Validate legal compliance.
      LegalComplianceValidator._check_br_criteria,method,"(content:str) -> list",128-147,false,20,5,Check for B+R criteria keywords.
      LegalComplianceValidator._check_nip,method,"(context:ValidationContext) -> list",149-180,false,32,4,Check NIP presence and validity.
      LegalComplianceValidator._check_cost_categories,method,"(content:str) -> list",182-209,false,28,5,Check for proper cost category language.
      LegalComplianceValidator._check_declarations,method,"(content:str) -> list",211-231,false,21,3,Check for required declarations and phrases.
      LegalComplianceValidator._llm_legal_validation,method,"(context:ValidationContext) -> list",233-267,true,35,5,Use LLM to validate legal language and compliance.
      LegalComplianceValidator._count_met_criteria,method,"(content:str) -> int",269-279,false,11,5,Count how many B+R criteria are met.
      LegalComplianceValidator._get_correction_instructions,method,() -> str,281-288,false,8,1,retrieves correction instructions
      LegalComplianceValidator._validate_nip_checksum,method,"(nip:str) -> bool",290-323,false,34,6,Validate NIP checksum using Polish algorithm.
  brgenerator/src/br_doc_generator/validators/pipeline.py:
    functions[7]{name,kind,sig,loc,async,lines,cc,does}:
      ValidationPipeline.__init__,method,"(llm_client=None, config:Optional[ValidationConfig]=None, use_llm:bool=True) -> None",44-73,false,30,4,Initialize validation pipeline.
      ValidationPipeline.run,method,"(markdown_content:str, project_input:ProjectInput, levels:Optional[list[str]]=None, max_iterations:Optional[int]=None) -> tuple[str, PipelineResult]",75-113,true,39,5,Run validation pipeline on documentation.
      ValidationPipeline.validate,method,"(project_input:ProjectInput, markdown_content:str, levels:Optional[list[ValidationLevel]]=None, max_iterations:Optional[int]=None) -> PipelineResult",115-211,true,97,9,Run validation pipeline on documentation.
      ValidationPipeline._run_validation_level,method,"(validator:BaseValidator, context:ValidationContext, max_iterations:int) -> tuple[list[ValidationResult], int, list[str]]",213-291,true,79,10,Run single validation level with potential iterations.
      ValidationPipeline._determine_overall_status,method,"(results:list[ValidationResult]) -> ValidationStatus",293-317,false,25,9,Determine overall pipeline status from all results.
      ValidationPipeline._calculate_overall_score,method,"(results:list[ValidationResult]) -> float",319-350,false,32,6,Calculate weighted overall score.
      ValidationPipeline.validate_single_level,method,"(project_input:ProjectInput, markdown_content:str, level:ValidationLevel) -> ValidationResult",352-373,true,22,2,Run single validation level without iteration.
  brgenerator/src/br_doc_generator/generators/document.py:
    functions[21]{name,kind,sig,loc,async,lines,cc,does}:
      DocumentGenerator.__init__,method,"(config:Optional[AppConfig]=None, llm_client:Optional[LLMClient]=None) -> None",50-63,false,14,3,Initialize document generator.
      DocumentGenerator.generate,method,"(project_input:ProjectInput, sections:Optional[list[str]]=None) -> str",65-110,true,46,4,Generate complete B+R documentation.
      DocumentGenerator.generate_section,method,"(project_input:ProjectInput, section:str) -> str",112-133,true,22,1,Generate single documentation section.
      DocumentGenerator._build_generation_prompt,method,"(project_input:ProjectInput, sections:list[str]) -> str",135-212,false,78,5,Build prompt for full documentation generation.
      DocumentGenerator._build_section_prompt,method,"(project_input:ProjectInput, section:str) -> str",214-231,false,18,2,Build prompt for single section generation.
      DocumentGenerator._build_summary_prompt,method,"(project_input:ProjectInput) -> str",233-249,false,17,1,creates summary prompt
      DocumentGenerator._build_description_prompt,method,"(project_input:ProjectInput) -> str",251-264,false,14,1,creates description prompt
      DocumentGenerator._build_methodology_prompt,method,"(project_input:ProjectInput) -> str",266-281,false,16,6,creates methodology prompt
      DocumentGenerator._build_innovation_prompt,method,"(project_input:ProjectInput) -> str",283-298,false,16,1,creates innovation prompt
      DocumentGenerator._build_costs_prompt,method,"(project_input:ProjectInput) -> str",300-324,false,25,1,creates costs prompt
      DocumentGenerator._build_timeline_prompt,method,"(project_input:ProjectInput) -> str",326-335,false,10,1,creates timeline prompt
      DocumentGenerator._build_risk_prompt,method,"(project_input:ProjectInput) -> str",337-349,false,13,1,creates risk prompt
      DocumentGenerator._build_conclusions_prompt,method,"(project_input:ProjectInput) -> str",351-363,false,13,1,creates conclusions prompt
      DocumentGenerator._format_list,method,"(items:list) -> str",366-369,false,4,3,formats list
      DocumentGenerator._format_risks,method,"(risks:list) -> str",371-377,false,7,5,formats risks
      DocumentGenerator._format_methods,method,"(methods:list) -> str",379-385,false,7,5,formats methods
      DocumentGenerator._format_milestones,method,"(milestones:list) -> str",387-393,false,7,3,formats milestones
      DocumentGenerator._format_personnel_employment,method,"(personnel:list) -> str",395-401,false,7,3,formats personnel employment
      DocumentGenerator._format_personnel_civil,method,"(personnel:list) -> str",403-409,false,7,3,formats personnel civil
      DocumentGenerator._format_materials,method,"(materials:list) -> str",411-417,false,7,3,formats materials
      DocumentGenerator._format_external_services,method,"(services:list) -> str",419-425,false,7,3,formats external services
  brgenerator/src/br_doc_generator/generators/form.py:
    functions[5]{name,kind,sig,loc,async,lines,cc,does}:
      FormGenerator.__init__,method,(config=None) -> None,272-274,false,3,2,Initialize form generator.
      FormGenerator.generate_empty_form,method,"(project_name:str='Nazwa projektu', fiscal_year:Optional[int]=None, output_path:Optional[Path]=None) -> str",276-331,false,56,6,Generate empty form template.
      FormGenerator.generate_prefilled_form,method,"(project_name:str, company_name:str, company_nip:str, fiscal_year:int, start_date:date, end_date:date, output_path:Optional[Path]=None) -> str",333-389,false,57,2,Generate form with pre-filled company and project data.
      FormGenerator.load_form,method,"(path:Path) -> dict",392-410,false,19,2,Load and validate form from YAML file.
      FormGenerator.validate_form,method,"(data:dict) -> list[str]",413-467,false,55,14,Validate form data for completeness.
  brgenerator/src/br_doc_generator/generators/pdf.py:
    functions[9]{name,kind,sig,loc,async,lines,cc,does}:
      render_documentation_to_pdf,function,"(markdown_content:str, output_path:str, company_name:Optional[str]=None, company_logo:Optional[str]=None, fiscal_year:Optional[int]=None, template:str='professional') -> str",576-613,false,38,2,Convenience function to render B+R documentation to PDF.
      PDFRenderer.__init__,method,"(template:str='professional', company_logo:Optional[str]=None, header:Optional[str]=None, footer:Optional[str]=None, custom_css:Optional[str]=None) -> None",323-352,false,30,1,Initialize PDF renderer.
      PDFRenderer._get_css,method,() -> str,354-361,false,8,2,Get combined CSS for rendering.
      PDFRenderer._create_cover_page,method,"(title:str, subtitle:Optional[str]=None, company_name:Optional[str]=None, fiscal_year:Optional[int]=None) -> str",363-386,false,24,6,Generate HTML for cover page.
      PDFRenderer._convert_markdown_to_html,method,"(markdown_content:str) -> str",388-416,false,29,1,Convert markdown to HTML with extensions.
      PDFRenderer._enhance_html,method,"(html:str, title:Optional[str]=None, company_name:Optional[str]=None, fiscal_year:Optional[int]=None) -> str",418-467,false,50,6,"Enhance HTML with cover page, headers, and formatting."
      PDFRenderer.render,method,"(markdown_content:str, output_path:str, metadata:Optional[Dict[str,Any]]=None) -> str",469-538,false,70,3,Render markdown content to PDF.
      PDFRenderer.render_async,method,"(markdown_content:str, output_path:str, metadata:Optional[Dict[str,Any]]=None) -> str",540-551,true,12,1,Async wrapper for render method.
      PDFRenderer.render_from_file,method,"(markdown_path:str, output_path:str, metadata:Optional[Dict[str,Any]]=None) -> str",553-573,false,21,1,Render markdown file to PDF.
